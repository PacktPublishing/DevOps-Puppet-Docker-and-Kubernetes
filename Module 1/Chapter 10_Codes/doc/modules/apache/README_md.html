<!DOCTYPE html>

<html>
<head>
<meta content="text/html; charset=UTF-8" http-equiv="Content-Type">

<title>README - RDoc Documentation</title>

<link type="text/css" media="screen" href="../../rdoc.css" rel="stylesheet">

<script type="text/javascript">
  var rdoc_rel_prefix = "../../";
</script>

<script type="text/javascript" charset="utf-8" src="../../js/jquery.js"></script>
<script type="text/javascript" charset="utf-8" src="../../js/navigation.js"></script>
<script type="text/javascript" charset="utf-8" src="../../js/search_index.js"></script>
<script type="text/javascript" charset="utf-8" src="../../js/search.js"></script>
<script type="text/javascript" charset="utf-8" src="../../js/searcher.js"></script>
<script type="text/javascript" charset="utf-8" src="../../js/darkfish.js"></script>


<body class="file">
<nav id="metadata">
  <nav id="home-section" class="section">
  <h3 class="section-header">
    <a href="../../index.html">Home</a>
    <a href="../../table_of_contents.html#classes">Classes</a>
    <a href="../../table_of_contents.html#methods">Methods</a>
  </h3>
</nav>


  <nav id="search-section" class="section project-section" class="initially-hidden">
  <form action="#" method="get" accept-charset="utf-8">
    <h3 class="section-header">
      <input type="text" name="search" placeholder="Search" id="search-field"
             title="Type to search, Up and Down to navigate, Enter to load">
    </h3>
  </form>

  <ul id="search-results" class="initially-hidden"></ul>
</nav>


  
<div id="table-of-contents">
  <nav class="section">
    <h3 class="section-header">Table of Contents</h3>
    <ul>
      <li><a href="#label-apache">apache</a>
      <li><a href="#label-Table+of+Contents">Table of Contents</a>
      <li><a href="#label-Overview">Overview</a>
      <li><a href="#label-Module+Description">Module Description</a>
      <li><a href="#label-Setup">Setup</a>
      <li><a href="#label-Beginning+with+Apache">Beginning with Apache</a>
      <li><a href="#label-Configure+a+virtual+host">Configure a virtual host</a>
      <li><a href="#label-Usage">Usage</a>
      <li><a href="#label-Classes+and+Defined+Types">Classes and Defined Types</a>
      <li><a href="#label-Class%3A+apache">Class: <code>apache</code></a>
      <li><a href="#label-apache_version"><code>apache_version</code></a>
      <li><a href="#label-confd_dir"><code>confd_dir</code></a>
      <li><a href="#label-conf_template"><code>conf_template</code></a>
      <li><a href="#label-default_confd_files"><code>default_confd_files</code></a>
      <li><a href="#label-default_mods"><code>default_mods</code></a>
      <li><a href="#label-default_ssl_ca"><code>default_ssl_ca</code></a>
      <li><a href="#label-default_ssl_cert"><code>default_ssl_cert</code></a>
      <li><a href="#label-default_ssl_chain"><code>default_ssl_chain</code></a>
      <li><a href="#label-default_ssl_crl"><code>default_ssl_crl</code></a>
      <li><a href="#label-default_ssl_crl_path"><code>default_ssl_crl_path</code></a>
      <li><a href="#label-default_ssl_key"><code>default_ssl_key</code></a>
      <li><a href="#label-default_ssl_vhost"><code>default_ssl_vhost</code></a>
      <li><a href="#label-default_vhost"><code>default_vhost</code></a>
      <li><a href="#label-error_documents"><code>error_documents</code></a>
      <li><a href="#label-httpd_dir"><code>httpd_dir</code></a>
      <li><a href="#label-keepalive"><code>keepalive</code></a>
      <li><a href="#label-keepalive_timeout"><code>keepalive_timeout</code></a>
      <li><a href="#label-max_keepalive_requests"><code>max_keepalive_requests</code></a>
      <li><a href="#label-log_level"><code>log_level</code></a>
      <li><a href="#label-log_formats"><code>log_formats</code></a>
      <li><a href="#label-logroot"><code>logroot</code></a>
      <li><a href="#label-manage_group"><code>manage_group</code></a>
      <li><a href="#label-manage_user"><code>manage_user</code></a>
      <li><a href="#label-mod_dir"><code>mod_dir</code></a>
      <li><a href="#label-mpm_module"><code>mpm_module</code></a>
      <li><a href="#label-package_ensure"><code>package_ensure</code></a>
      <li><a href="#label-ports_file"><code>ports_file</code></a>
      <li><a href="#label-purge_configs"><code>purge_configs</code></a>
      <li><a href="#label-sendfile"><code>sendfile</code></a>
      <li><a href="#label-serveradmin"><code>serveradmin</code></a>
      <li><a href="#label-servername"><code>servername</code></a>
      <li><a href="#label-server_root"><code>server_root</code></a>
      <li><a href="#label-server_signature"><code>server_signature</code></a>
      <li><a href="#label-server_tokens"><code>server_tokens</code></a>
      <li><a href="#label-service_enable"><code>service_enable</code></a>
      <li><a href="#label-service_ensure"><code>service_ensure</code></a>
      <li><a href="#label-service_name"><code>service_name</code></a>
      <li><a href="#label-trace_enable"><code>trace_enable</code></a>
      <li><a href="#label-vhost_dir"><code>vhost_dir</code></a>
      <li><a href="#label-Class%3A+apache%3A%3Adefault_mods">Class: <code>apache::default_mods</code></a>
      <li><a href="#label-Defined+Type%3A+apache%3A%3Amod">Defined Type: <code>apache::mod</code></a>
      <li><a href="#label-Classes%3A+apache%3A%3Amod%3A%3A%5Bname%5D">Classes: <code>apache::mod::[name]</code></a>
      <li><a href="#label-Class%3A+apache%3A%3Amod%3A%3Apagespeed">Class: <code>apache::mod::pagespeed</code></a>
      <li><a href="#label-Class%3A+apache%3A%3Amod%3A%3Aphp">Class: <code>apache::mod::php</code></a>
      <li><a href="#label-Class%3A+apache%3A%3Amod%3A%3Assl">Class: <code>apache::mod::ssl</code></a>
      <li><a href="#label-Class%3A+apache%3A%3Amod%3A%3Awsgi">Class: <code>apache::mod::wsgi</code></a>
      <li><a href="#label-Defined+Type%3A+apache%3A%3Avhost">Defined Type: <code>apache::vhost</code></a>
      <li><a href="#label-access_log"><code>access_log</code></a>
      <li><a href="#label-access_log_file"><code>access_log_file</code></a>
      <li><a href="#label-access_log_pipe"><code>access_log_pipe</code></a>
      <li><a href="#label-access_log_syslog"><code>access_log_syslog</code></a>
      <li><a href="#label-access_log_format"><code>access_log_format</code></a>
      <li><a href="#label-access_log_env_var"><code>access_log_env_var</code></a>
      <li><a href="#label-add_listen"><code>add_listen</code></a>
      <li><a href="#label-additional_includes"><code>additional_includes</code></a>
      <li><a href="#label-aliases"><code>aliases</code></a>
      <li><a href="#label-block"><code>block</code></a>
      <li><a href="#label-custom_fragment"><code>custom_fragment</code></a>
      <li><a href="#label-default_vhost"><code>default_vhost</code></a>
      <li><a href="#label-directories"><code>directories</code></a>
      <li><a href="#label-directoryindex"><code>directoryindex</code></a>
      <li><a href="#label-docroot"><code>docroot</code></a>
      <li><a href="#label-docroot_group"><code>docroot_group</code></a>
      <li><a href="#label-docroot_owner"><code>docroot_owner</code></a>
      <li><a href="#label-docroot_mode"><code>docroot_mode</code></a>
      <li><a href="#label-error_log"><code>error_log</code></a>
      <li><a href="#label-error_log_file"><code>error_log_file</code></a>
      <li><a href="#label-error_log_pipe"><code>error_log_pipe</code></a>
      <li><a href="#label-error_log_syslog"><code>error_log_syslog</code></a>
      <li><a href="#label-error_documents"><code>error_documents</code></a>
      <li><a href="#label-ensure"><code>ensure</code></a>
      <li><a href="#label-fallbackresource"><code>fallbackresource</code></a>
      <li><a href="#label-headers"><code>headers</code></a>
      <li><a href="#label-ip"><code>ip</code></a>
      <li><a href="#label-ip_based"><code>ip_based</code></a>
      <li><a href="#label-itk"><code>itk</code></a>
      <li><a href="#label-logroot"><code>logroot</code></a>
      <li><a href="#label-log_level"><code>log_level</code></a>
      <li><a href="#label-no_proxy_uris"><code>no_proxy_uris</code></a>
      <li><a href="#label-options"><code>options</code></a>
      <li><a href="#label-override"><code>override</code></a>
      <li><a href="#label-php_admin_flags+%26+values"><code>php_admin_flags &amp; values</code></a>
      <li><a href="#label-port"><code>port</code></a>
      <li><a href="#label-priority"><code>priority</code></a>
      <li><a href="#label-proxy_dest"><code>proxy_dest</code></a>
      <li><a href="#label-proxy_pass"><code>proxy_pass</code></a>
      <li><a href="#label-rack_base_uris"><code>rack_base_uris</code></a>
      <li><a href="#label-redirect_dest"><code>redirect_dest</code></a>
      <li><a href="#label-redirect_source"><code>redirect_source</code></a>
      <li><a href="#label-redirect_status"><code>redirect_status</code></a>
      <li><a href="#label-redirectmatch_regexp+%26+redirectmatch_status"><code>redirectmatch_regexp</code> &amp; <code>redirectmatch_status</code></a>
      <li><a href="#label-request_headers"><code>request_headers</code></a>
      <li><a href="#label-rewrites"><code>rewrites</code></a>
      <li><a href="#label-scriptalias"><code>scriptalias</code></a>
      <li><a href="#label-scriptaliases"><code>scriptaliases</code></a>
      <li><a href="#label-serveradmin"><code>serveradmin</code></a>
      <li><a href="#label-serveraliases"><code>serveraliases</code></a>
      <li><a href="#label-servername"><code>servername</code></a>
      <li><a href="#label-setenv"><code>setenv</code></a>
      <li><a href="#label-setenvif"><code>setenvif</code></a>
      <li><a href="#label-suphp_addhandler%2C+suphp_configpath%2C+%26+suphp_engine"><code>suphp_addhandler</code>, <code>suphp_configpath</code>, &amp; <code>suphp_engine</code></a>
      <li><a href="#label-vhost_name"><code>vhost_name</code></a>
      <li><a href="#label-virtual_docroot"><code>virtual_docroot</code></a>
      <li><a href="#label-wsgi_daemon_process%2C+wsgi_daemon_process_options%2C+wsgi_process_group%2C+%26+wsgi_script_aliases"><code>wsgi_daemon_process</code>, <code>wsgi_daemon_process_options</code>, <code>wsgi_process_group</code>, &amp; <code>wsgi_script_aliases</code></a>
      <li><a href="#label-Parameter+directories+for+apache%3A%3Avhost">Parameter <code>directories</code> for <code>apache::vhost</code></a>
      <li><a href="#label-addhandlers"><code>addhandlers</code></a>
      <li><a href="#label-allow"><code>allow</code></a>
      <li><a href="#label-allow_override"><code>allow_override</code></a>
      <li><a href="#label-auth_basic_authoritative"><code>auth_basic_authoritative</code></a>
      <li><a href="#label-auth_basic_fake"><code>auth_basic_fake</code></a>
      <li><a href="#label-auth_basic_provider"><code>auth_basic_provider</code></a>
      <li><a href="#label-auth_digest_algorithm"><code>auth_digest_algorithm</code></a>
      <li><a href="#label-auth_digest_domain"><code>auth_digest_domain</code></a>
      <li><a href="#label-auth_digest_nonce_lifetime"><code>auth_digest_nonce_lifetime</code></a>
      <li><a href="#label-auth_digest_provider"><code>auth_digest_provider</code></a>
      <li><a href="#label-auth_digest_qop"><code>auth_digest_qop</code></a>
      <li><a href="#label-auth_digest_shmem_size"><code>auth_digest_shmem_size</code></a>
      <li><a href="#label-auth_group_file"><code>auth_group_file</code></a>
      <li><a href="#label-auth_name"><code>auth_name</code></a>
      <li><a href="#label-auth_require"><code>auth_require</code></a>
      <li><a href="#label-auth_type"><code>auth_type</code></a>
      <li><a href="#label-auth_user_file"><code>auth_user_file</code></a>
      <li><a href="#label-custom_fragment"><code>custom_fragment</code></a>
      <li><a href="#label-deny"><code>deny</code></a>
      <li><a href="#label-error_documents"><code>error_documents</code></a>
      <li><a href="#label-headers"><code>headers</code></a>
      <li><a href="#label-index_options"><code>index_options</code></a>
      <li><a href="#label-index_order_default"><code>index_order_default</code></a>
      <li><a href="#label-options"><code>options</code></a>
      <li><a href="#label-order"><code>order</code></a>
      <li><a href="#label-sethandler"><code>sethandler</code></a>
      <li><a href="#label-passenger_enabled"><code>passenger_enabled</code></a>
      <li><a href="#label-php_admin_value+and+php_admin_flag"><code>php_admin_value</code> and <code>php_admin_flag</code></a>
      <li><a href="#label-ssl_options"><code>ssl_options</code></a>
      <li><a href="#label-suphp"><code>suphp</code></a>
      <li><a href="#label-SSL+parameters+for+apache%3A%3Avhost">SSL parameters for <code>apache::vhost</code></a>
      <li><a href="#label-ssl"><code>ssl</code></a>
      <li><a href="#label-ssl_ca"><code>ssl_ca</code></a>
      <li><a href="#label-ssl_cert"><code>ssl_cert</code></a>
      <li><a href="#label-ssl_protocol"><code>ssl_protocol</code></a>
      <li><a href="#label-ssl_cipher"><code>ssl_cipher</code></a>
      <li><a href="#label-ssl_honorcipherorder"><code>ssl_honorcipherorder</code></a>
      <li><a href="#label-ssl_certs_dir"><code>ssl_certs_dir</code></a>
      <li><a href="#label-ssl_chain"><code>ssl_chain</code></a>
      <li><a href="#label-ssl_crl"><code>ssl_crl</code></a>
      <li><a href="#label-ssl_crl_path"><code>ssl_crl_path</code></a>
      <li><a href="#label-ssl_key"><code>ssl_key</code></a>
      <li><a href="#label-ssl_verify_client"><code>ssl_verify_client</code></a>
      <li><a href="#label-ssl_verify_depth"><code>ssl_verify_depth</code></a>
      <li><a href="#label-ssl_options"><code>ssl_options</code></a>
      <li><a href="#label-ssl_proxyengine"><code>ssl_proxyengine</code></a>
      <li><a href="#label-Virtual+Host+Examples">Virtual Host Examples</a>
      <li><a href="#label-Load+Balancing">Load Balancing</a>
      <li><a href="#label-Defined+Type%3A+apache%3A%3Abalancer">Defined Type: <code>apache::balancer</code></a>
      <li><a href="#label-name"><code>name</code></a>
      <li><a href="#label-proxy_set"><code>proxy_set</code></a>
      <li><a href="#label-collect_exported"><code>collect_exported</code></a>
      <li><a href="#label-Defined+Type%3A+apache%3A%3Abalancermember">Defined Type: <code>apache::balancermember</code></a>
      <li><a href="#label-name"><code>name</code></a>
      <li><a href="#label-balancer_cluster"><code>balancer_cluster</code></a>
      <li><a href="#label-url"><code>url</code></a>
      <li><a href="#label-options"><code>options</code></a>
      <li><a href="#label-Examples">Examples</a>
      <li><a href="#label-Reference">Reference</a>
      <li><a href="#label-Classes">Classes</a>
      <li><a href="#label-Public+Classes">Public Classes</a>
      <li><a href="#label-Private+Classes">Private Classes</a>
      <li><a href="#label-Defined+Types">Defined Types</a>
      <li><a href="#label-Public+Defined+Types">Public Defined Types</a>
      <li><a href="#label-Private+Defined+Types">Private Defined Types</a>
      <li><a href="#label-Templates">Templates</a>
      <li><a href="#label-Limitations">Limitations</a>
      <li><a href="#label-Ubuntu+10.04">Ubuntu 10.04</a>
      <li><a href="#label-RHEL%2FCentOS+5">RHEL/CentOS 5</a>
      <li><a href="#label-RHEL%2FCentOS+7">RHEL/CentOS 7</a>
      <li><a href="#label-General">General</a>
      <li><a href="#label-SELinux+and+Custom+Paths">SELinux and Custom Paths</a>
      <li><a href="#label-Development">Development</a>
      <li><a href="#label-Contributing">Contributing</a>
      <li><a href="#label-Running+tests">Running tests</a>
    </ul>
  </nav>
</div>


  <div id="project-metadata">
    <nav id="fileindex-section" class="section project-section">
  <h3 class="section-header">Pages</h3>

  <ul>
  
    <li class="file"><a href="../../modules/apache/CHANGELOG_md.html">CHANGELOG</a>
  
    <li class="file"><a href="../../modules/apache/CONTRIBUTING_md.html">CONTRIBUTING</a>
  
    <li class="file"><a href="../../modules/apache/Gemfile.html">Gemfile</a>
  
    <li class="file"><a href="../../modules/apache/LICENSE.html">LICENSE</a>
  
    <li class="file"><a href="../../modules/apache/README_md.html">README</a>
  
    <li class="file"><a href="../../modules/apache/README_passenger_md.html">README.passenger</a>
  
    <li class="file"><a href="../../modules/apache/Rakefile.html">Rakefile</a>
  
    <li class="file"><a href="../../modules/apache/checksums_json.html">checksums.json</a>
  
    <li class="file"><a href="../../modules/apache/metadata_json.html">metadata.json</a>
  
    <li class="file"><a href="../../modules/apt/CHANGELOG_md.html">CHANGELOG</a>
  
    <li class="file"><a href="../../modules/apt/CONTRIBUTING_md.html">CONTRIBUTING</a>
  
    <li class="file"><a href="../../modules/apt/Gemfile.html">Gemfile</a>
  
    <li class="file"><a href="../../modules/apt/LICENSE.html">LICENSE</a>
  
    <li class="file"><a href="../../modules/apt/README_md.html">README</a>
  
    <li class="file"><a href="../../modules/apt/Rakefile.html">Rakefile</a>
  
    <li class="file"><a href="../../modules/apt/checksums_json.html">checksums.json</a>
  
    <li class="file"><a href="../../modules/apt/metadata_json.html">metadata.json</a>
  
    <li class="file"><a href="../../modules/base/Modulefile.html">Modulefile</a>
  
    <li class="file"><a href="../../modules/base/README.html">README</a>
  
    <li class="file"><a href="../../modules/concat/CHANGELOG_md.html">CHANGELOG</a>
  
    <li class="file"><a href="../../modules/concat/CONTRIBUTING_md.html">CONTRIBUTING</a>
  
    <li class="file"><a href="../../modules/concat/Gemfile.html">Gemfile</a>
  
    <li class="file"><a href="../../modules/concat/LICENSE.html">LICENSE</a>
  
    <li class="file"><a href="../../modules/concat/README_md.html">README</a>
  
    <li class="file"><a href="../../modules/concat/Rakefile.html">Rakefile</a>
  
    <li class="file"><a href="../../modules/concat/checksums_json.html">checksums.json</a>
  
    <li class="file"><a href="../../modules/concat/metadata_json.html">metadata.json</a>
  
    <li class="file"><a href="../../modules/firewall/CHANGELOG_md.html">CHANGELOG</a>
  
    <li class="file"><a href="../../modules/firewall/CONTRIBUTING_md.html">CONTRIBUTING</a>
  
    <li class="file"><a href="../../modules/firewall/Gemfile.html">Gemfile</a>
  
    <li class="file"><a href="../../modules/firewall/LICENSE.html">LICENSE</a>
  
    <li class="file"><a href="../../modules/firewall/README_markdown.html">README.markdown</a>
  
    <li class="file"><a href="../../modules/firewall/Rakefile.html">Rakefile</a>
  
    <li class="file"><a href="../../modules/firewall/checksums_json.html">checksums.json</a>
  
    <li class="file"><a href="../../modules/firewall/metadata_json.html">metadata.json</a>
  
    <li class="file"><a href="../../modules/heartbeat/Rakefile.html">Rakefile</a>
  
    <li class="file"><a href="../../modules/module_data/Modulefile.html">Modulefile</a>
  
    <li class="file"><a href="../../modules/module_data/README_md.html">README</a>
  
    <li class="file"><a href="../../modules/module_data/metadata_json.html">metadata.json</a>
  
    <li class="file"><a href="../../modules/mysql/CHANGELOG_md.html">CHANGELOG</a>
  
    <li class="file"><a href="../../modules/mysql/Gemfile.html">Gemfile</a>
  
    <li class="file"><a href="../../modules/mysql/Gemfile_lock.html">Gemfile.lock</a>
  
    <li class="file"><a href="../../modules/mysql/LICENSE.html">LICENSE</a>
  
    <li class="file"><a href="../../modules/mysql/README_md.html">README</a>
  
    <li class="file"><a href="../../modules/mysql/Rakefile.html">Rakefile</a>
  
    <li class="file"><a href="../../modules/mysql/TODO.html">TODO</a>
  
    <li class="file"><a href="../../modules/mysql/checksums_json.html">checksums.json</a>
  
    <li class="file"><a href="../../modules/mysql/metadata_json.html">metadata.json</a>
  
    <li class="file"><a href="../../modules/nginx/CONTRIBUTING_md.html">CONTRIBUTING</a>
  
    <li class="file"><a href="../../modules/nginx/Gemfile.html">Gemfile</a>
  
    <li class="file"><a href="../../modules/nginx/Gemfile_lock.html">Gemfile.lock</a>
  
    <li class="file"><a href="../../modules/nginx/LICENSE_md.html">LICENSE</a>
  
    <li class="file"><a href="../../modules/nginx/README_markdown.html">README.markdown</a>
  
    <li class="file"><a href="../../modules/nginx/Rakefile.html">Rakefile</a>
  
    <li class="file"><a href="../../modules/nginx/checksums_json.html">checksums.json</a>
  
    <li class="file"><a href="../../modules/nginx/composer_json.html">composer.json</a>
  
    <li class="file"><a href="../../modules/nginx/data/common_yaml.html">common.yaml</a>
  
    <li class="file"><a href="../../modules/nginx/data/hiera_yaml.html">hiera.yaml</a>
  
    <li class="file"><a href="../../modules/nginx/data/operatingsystem/SmartOS_yaml.html">SmartOS.yaml</a>
  
    <li class="file"><a href="../../modules/nginx/data/osfamily/Archlinux_yaml.html">Archlinux.yaml</a>
  
    <li class="file"><a href="../../modules/nginx/data/osfamily/Debian_yaml.html">Debian.yaml</a>
  
    <li class="file"><a href="../../modules/nginx/data/osfamily/FreeBSD_yaml.html">FreeBSD.yaml</a>
  
    <li class="file"><a href="../../modules/nginx/data/osfamily/Solaris_yaml.html">Solaris.yaml</a>
  
    <li class="file"><a href="../../modules/nginx/docs/hiera_md.html">hiera</a>
  
    <li class="file"><a href="../../modules/nginx/metadata_json.html">metadata.json</a>
  
    <li class="file"><a href="../../modules/profiles/Gemfile.html">Gemfile</a>
  
    <li class="file"><a href="../../modules/profiles/README_md.html">README</a>
  
    <li class="file"><a href="../../modules/profiles/Rakefile.html">Rakefile</a>
  
    <li class="file"><a href="../../modules/profiles/metadata_json.html">metadata.json</a>
  
    <li class="file"><a href="../../modules/roles/Gemfile.html">Gemfile</a>
  
    <li class="file"><a href="../../modules/roles/README_md.html">README</a>
  
    <li class="file"><a href="../../modules/roles/Rakefile.html">Rakefile</a>
  
    <li class="file"><a href="../../modules/roles/metadata_json.html">metadata.json</a>
  
    <li class="file"><a href="../../modules/stdlib/CHANGELOG_md.html">CHANGELOG</a>
  
    <li class="file"><a href="../../modules/stdlib/CONTRIBUTING_md.html">CONTRIBUTING</a>
  
    <li class="file"><a href="../../modules/stdlib/Gemfile.html">Gemfile</a>
  
    <li class="file"><a href="../../modules/stdlib/LICENSE.html">LICENSE</a>
  
    <li class="file"><a href="../../modules/stdlib/README_markdown.html">README.markdown</a>
  
    <li class="file"><a href="../../modules/stdlib/README_DEVELOPER_markdown.html">README_DEVELOPER.markdown</a>
  
    <li class="file"><a href="../../modules/stdlib/README_SPECS_markdown.html">README_SPECS.markdown</a>
  
    <li class="file"><a href="../../modules/stdlib/RELEASE_PROCESS_markdown.html">RELEASE_PROCESS.markdown</a>
  
    <li class="file"><a href="../../modules/stdlib/Rakefile.html">Rakefile</a>
  
    <li class="file"><a href="../../modules/stdlib/checksums_json.html">checksums.json</a>
  
    <li class="file"><a href="../../modules/stdlib/metadata_json.html">metadata.json</a>
  
    <li class="file"><a href="../../modules/thing/Rakefile.html">Rakefile</a>
  
    <li class="file"><a href="../../modules/thomas-base/Modulefile.html">Modulefile</a>
  
    <li class="file"><a href="../../modules/thomas-base/README.html">README</a>
  
    <li class="file"><a href="../../modules/thomas-profiles/Gemfile.html">Gemfile</a>
  
    <li class="file"><a href="../../modules/thomas-profiles/README_md.html">README</a>
  
    <li class="file"><a href="../../modules/thomas-profiles/Rakefile.html">Rakefile</a>
  
    <li class="file"><a href="../../modules/thomas-profiles/metadata_json.html">metadata.json</a>
  
    <li class="file"><a href="../../modules/thomas-roles/Gemfile.html">Gemfile</a>
  
    <li class="file"><a href="../../modules/thomas-roles/README_md.html">README</a>
  
    <li class="file"><a href="../../modules/thomas-roles/Rakefile.html">Rakefile</a>
  
    <li class="file"><a href="../../modules/thomas-roles/metadata_json.html">metadata.json</a>
  
  </ul>
</nav>

    <nav id="classindex-section" class="section project-section">
  <h3 class="section-header">Class and Module Index</h3>

  <ul class="link-list">
  
    <li><a href="../../__site__.html">__site__</a>
  
    <li><a href="../../admin.html">admin</a>
  
    <li><a href="../../admin/__functions__.html">admin::__functions__</a>
  
    <li><a href="../../admin/percona_repo.html">admin::percona_repo</a>
  
    <li><a href="../../admin/stages.html">admin::stages</a>
  
    <li><a href="../../admin/stages/me_first.html">admin::stages::me_first</a>
  
    <li><a href="../../admin/stages/me_last.html">admin::stages::me_last</a>
  
    <li><a href="../../admin_user.html">admin_user</a>
  
    <li><a href="../../apache.html">apache</a>
  
    <li><a href="../../apache.cookbook.html">apache.cookbook</a>
  
    <li><a href="../../apache.cookbook/apache.html">apache.cookbook::apache</a>
  
    <li><a href="../../apache/__types__.html">apache::__types__</a>
  
    <li><a href="../../apache/confd.html">apache::confd</a>
  
    <li><a href="../../apache/confd/no_accf.html">apache::confd::no_accf</a>
  
    <li><a href="../../apache/default_confd_files.html">apache::default_confd_files</a>
  
    <li><a href="../../apache/default_mods.html">apache::default_mods</a>
  
    <li><a href="../../apache/dev.html">apache::dev</a>
  
    <li><a href="../../apache/mod.html">apache::mod</a>
  
    <li><a href="../../apache/mod/actions.html">apache::mod::actions</a>
  
    <li><a href="../../apache/mod/alias.html">apache::mod::alias</a>
  
    <li><a href="../../apache/mod/auth_basic.html">apache::mod::auth_basic</a>
  
    <li><a href="../../apache/mod/auth_kerb.html">apache::mod::auth_kerb</a>
  
    <li><a href="../../apache/mod/authnz_ldap.html">apache::mod::authnz_ldap</a>
  
    <li><a href="../../apache/mod/autoindex.html">apache::mod::autoindex</a>
  
    <li><a href="../../apache/mod/cache.html">apache::mod::cache</a>
  
    <li><a href="../../apache/mod/cgi.html">apache::mod::cgi</a>
  
    <li><a href="../../apache/mod/cgid.html">apache::mod::cgid</a>
  
    <li><a href="../../apache/mod/dav.html">apache::mod::dav</a>
  
    <li><a href="../../apache/mod/dav_fs.html">apache::mod::dav_fs</a>
  
    <li><a href="../../apache/mod/dav_svn.html">apache::mod::dav_svn</a>
  
    <li><a href="../../apache/mod/deflate.html">apache::mod::deflate</a>
  
    <li><a href="../../apache/mod/dev.html">apache::mod::dev</a>
  
    <li><a href="../../apache/mod/dir.html">apache::mod::dir</a>
  
    <li><a href="../../apache/mod/disk_cache.html">apache::mod::disk_cache</a>
  
    <li><a href="../../apache/mod/event.html">apache::mod::event</a>
  
    <li><a href="../../apache/mod/expires.html">apache::mod::expires</a>
  
    <li><a href="../../apache/mod/fastcgi.html">apache::mod::fastcgi</a>
  
    <li><a href="../../apache/mod/fcgid.html">apache::mod::fcgid</a>
  
    <li><a href="../../apache/mod/headers.html">apache::mod::headers</a>
  
    <li><a href="../../apache/mod/include.html">apache::mod::include</a>
  
    <li><a href="../../apache/mod/info.html">apache::mod::info</a>
  
    <li><a href="../../apache/mod/itk.html">apache::mod::itk</a>
  
    <li><a href="../../apache/mod/ldap.html">apache::mod::ldap</a>
  
    <li><a href="../../apache/mod/mime.html">apache::mod::mime</a>
  
    <li><a href="../../apache/mod/mime_magic.html">apache::mod::mime_magic</a>
  
    <li><a href="../../apache/mod/negotiation.html">apache::mod::negotiation</a>
  
    <li><a href="../../apache/mod/nss.html">apache::mod::nss</a>
  
    <li><a href="../../apache/mod/pagespeed.html">apache::mod::pagespeed</a>
  
    <li><a href="../../apache/mod/passenger.html">apache::mod::passenger</a>
  
    <li><a href="../../apache/mod/perl.html">apache::mod::perl</a>
  
    <li><a href="../../apache/mod/peruser.html">apache::mod::peruser</a>
  
    <li><a href="../../apache/mod/php.html">apache::mod::php</a>
  
    <li><a href="../../apache/mod/prefork.html">apache::mod::prefork</a>
  
    <li><a href="../../apache/mod/proxy.html">apache::mod::proxy</a>
  
    <li><a href="../../apache/mod/proxy_ajp.html">apache::mod::proxy_ajp</a>
  
    <li><a href="../../apache/mod/proxy_balancer.html">apache::mod::proxy_balancer</a>
  
    <li><a href="../../apache/mod/proxy_html.html">apache::mod::proxy_html</a>
  
    <li><a href="../../apache/mod/proxy_http.html">apache::mod::proxy_http</a>
  
    <li><a href="../../apache/mod/python.html">apache::mod::python</a>
  
    <li><a href="../../apache/mod/reqtimeout.html">apache::mod::reqtimeout</a>
  
    <li><a href="../../apache/mod/rewrite.html">apache::mod::rewrite</a>
  
    <li><a href="../../apache/mod/rpaf.html">apache::mod::rpaf</a>
  
    <li><a href="../../apache/mod/setenvif.html">apache::mod::setenvif</a>
  
    <li><a href="../../apache/mod/speling.html">apache::mod::speling</a>
  
    <li><a href="../../apache/mod/ssl.html">apache::mod::ssl</a>
  
    <li><a href="../../apache/mod/status.html">apache::mod::status</a>
  
    <li><a href="../../apache/mod/suexec.html">apache::mod::suexec</a>
  
    <li><a href="../../apache/mod/suphp.html">apache::mod::suphp</a>
  
    <li><a href="../../apache/mod/userdir.html">apache::mod::userdir</a>
  
    <li><a href="../../apache/mod/vhost_alias.html">apache::mod::vhost_alias</a>
  
    <li><a href="../../apache/mod/worker.html">apache::mod::worker</a>
  
    <li><a href="../../apache/mod/wsgi.html">apache::mod::wsgi</a>
  
    <li><a href="../../apache/mod/xsendfile.html">apache::mod::xsendfile</a>
  
    <li><a href="../../apache/package.html">apache::package</a>
  
    <li><a href="../../apache/params.html">apache::params</a>
  
    <li><a href="../../apache/peruser.html">apache::peruser</a>
  
    <li><a href="../../apache/php.html">apache::php</a>
  
    <li><a href="../../apache/proxy.html">apache::proxy</a>
  
    <li><a href="../../apache/python.html">apache::python</a>
  
    <li><a href="../../apache/service.html">apache::service</a>
  
    <li><a href="../../apache/ssl.html">apache::ssl</a>
  
    <li><a href="../../apache/version.html">apache::version</a>
  
    <li><a href="../../apt.html">apt</a>
  
    <li><a href="../../apt/__facts__.html">apt::__facts__</a>
  
    <li><a href="../../apt/__types__.html">apt::__types__</a>
  
    <li><a href="../../apt/apt.html">apt::apt</a>
  
    <li><a href="../../apt/backports.html">apt::backports</a>
  
    <li><a href="../../apt/debian.html">apt::debian</a>
  
    <li><a href="../../apt/debian/testing.html">apt::debian::testing</a>
  
    <li><a href="../../apt/debian/unstable.html">apt::debian::unstable</a>
  
    <li><a href="../../apt/params.html">apt::params</a>
  
    <li><a href="../../apt/release.html">apt::release</a>
  
    <li><a href="../../apt/unattended_upgrades.html">apt::unattended_upgrades</a>
  
    <li><a href="../../apt/update.html">apt::update</a>
  
    <li><a href="../../base.html">base</a>
  
    <li><a href="../../base/base.html">base::base</a>
  
    <li><a href="../../base/ssh_host.html">base::ssh_host</a>
  
    <li><a href="../../concat.html">concat</a>
  
    <li><a href="../../concat/__facts__.html">concat::__facts__</a>
  
    <li><a href="../../concat/__functions__.html">concat::__functions__</a>
  
    <li><a href="../../concat/setup.html">concat::setup</a>
  
    <li><a href="../../cookbook.html">cookbook</a>
  
    <li><a href="../../cookbook/__functions__.html">cookbook::__functions__</a>
  
    <li><a href="../../cron.html">cron</a>
  
    <li><a href="../../cron/cron.html">cron::cron</a>
  
    <li><a href="../../db.html">db</a>
  
    <li><a href="../../db/client.html">db::client</a>
  
    <li><a href="../../db/server.html">db::server</a>
  
    <li><a href="../../debug.html">debug</a>
  
    <li><a href="../../debug/debug.html">debug::debug</a>
  
    <li><a href="../../drupal.html">drupal</a>
  
    <li><a href="../../drupal/drupal.html">drupal::drupal</a>
  
    <li><a href="../../enc.html">enc</a>
  
    <li><a href="../../enc/enc.html">enc::enc</a>
  
    <li><a href="../../facts.html">facts</a>
  
    <li><a href="../../firewall.html">firewall</a>
  
    <li><a href="../../firewall/__types__.html">firewall::__types__</a>
  
    <li><a href="../../firewall/firewall.html">firewall::firewall</a>
  
    <li><a href="../../firewall/linux.html">firewall::linux</a>
  
    <li><a href="../../firewall/linux/archlinux.html">firewall::linux::archlinux</a>
  
    <li><a href="../../firewall/linux/debian.html">firewall::linux::debian</a>
  
    <li><a href="../../firewall/linux/redhat.html">firewall::linux::redhat</a>
  
    <li><a href="../../greeting.html">greeting</a>
  
    <li><a href="../../greeting/greeting.html">greeting::greeting</a>
  
    <li><a href="../../haproxy.html">haproxy</a>
  
    <li><a href="../../haproxy/config.html">haproxy::config</a>
  
    <li><a href="../../haproxy/master.html">haproxy::master</a>
  
    <li><a href="../../haproxy/slave.html">haproxy::slave</a>
  
    <li><a href="../../heartbeat.html">heartbeat</a>
  
    <li><a href="../../heartbeat/heartbeat.html">heartbeat::heartbeat</a>
  
    <li><a href="../../heartbeat/vip.html">heartbeat::vip</a>
  
    <li><a href="../../jumpbox.html">jumpbox</a>
  
    <li><a href="../../jumpbox/jumpbox.html">jumpbox::jumpbox</a>
  
    <li><a href="../../lisa.html">lisa</a>
  
    <li><a href="../../module_data.html">module_data</a>
  
    <li><a href="../../myfw.html">myfw</a>
  
    <li><a href="../../myfw/myfw.html">myfw::myfw</a>
  
    <li><a href="../../myfw/post.html">myfw::post</a>
  
    <li><a href="../../myfw/pre.html">myfw::pre</a>
  
    <li><a href="../../mysql.html">mysql</a>
  
    <li><a href="../../mysql.cookbook.html">mysql.cookbook</a>
  
    <li><a href="../../mysql.cookbook/mysql.html">mysql.cookbook::mysql</a>
  
    <li><a href="../../mysql/__functions__.html">mysql::__functions__</a>
  
    <li><a href="../../mysql/__types__.html">mysql::__types__</a>
  
    <li><a href="../../mysql/backup.html">mysql::backup</a>
  
    <li><a href="../../mysql/bindings.html">mysql::bindings</a>
  
    <li><a href="../../mysql/bindings/java.html">mysql::bindings::java</a>
  
    <li><a href="../../mysql/bindings/perl.html">mysql::bindings::perl</a>
  
    <li><a href="../../mysql/bindings/php.html">mysql::bindings::php</a>
  
    <li><a href="../../mysql/bindings/python.html">mysql::bindings::python</a>
  
    <li><a href="../../mysql/bindings/ruby.html">mysql::bindings::ruby</a>
  
    <li><a href="../../mysql/client.html">mysql::client</a>
  
    <li><a href="../../mysql/client/install.html">mysql::client::install</a>
  
    <li><a href="../../mysql/params.html">mysql::params</a>
  
    <li><a href="../../mysql/server.html">mysql::server</a>
  
    <li><a href="../../mysql/server/account_security.html">mysql::server::account_security</a>
  
    <li><a href="../../mysql/server/backup.html">mysql::server::backup</a>
  
    <li><a href="../../mysql/server/config.html">mysql::server::config</a>
  
    <li><a href="../../mysql/server/install.html">mysql::server::install</a>
  
    <li><a href="../../mysql/server/monitor.html">mysql::server::monitor</a>
  
    <li><a href="../../mysql/server/mysqltuner.html">mysql::server::mysqltuner</a>
  
    <li><a href="../../mysql/server/providers.html">mysql::server::providers</a>
  
    <li><a href="../../mysql/server/root_password.html">mysql::server::root_password</a>
  
    <li><a href="../../mysql/server/service.html">mysql::server::service</a>
  
    <li><a href="../../nfs.html">nfs</a>
  
    <li><a href="../../nfs/exports.html">nfs::exports</a>
  
    <li><a href="../../nfs/server.html">nfs::server</a>
  
    <li><a href="../../nfs/server/debian.html">nfs::server::debian</a>
  
    <li><a href="../../nfs/server/redhat.html">nfs::server::redhat</a>
  
    <li><a href="../../nginx.html">nginx</a>
  
    <li><a href="../../nginx/config.html">nginx::config</a>
  
    <li><a href="../../nginx/nginx.html">nginx::nginx</a>
  
    <li><a href="../../nginx/notice.html">nginx::notice</a>
  
    <li><a href="../../nginx/notice/puppet_module_data.html">nginx::notice::puppet_module_data</a>
  
    <li><a href="../../nginx/package.html">nginx::package</a>
  
    <li><a href="../../nginx/package/archlinux.html">nginx::package::archlinux</a>
  
    <li><a href="../../nginx/package/debian.html">nginx::package::debian</a>
  
    <li><a href="../../nginx/package/freebsd.html">nginx::package::freebsd</a>
  
    <li><a href="../../nginx/package/gentoo.html">nginx::package::gentoo</a>
  
    <li><a href="../../nginx/package/redhat.html">nginx::package::redhat</a>
  
    <li><a href="../../nginx/package/solaris.html">nginx::package::solaris</a>
  
    <li><a href="../../nginx/package/suse.html">nginx::package::suse</a>
  
    <li><a href="../../nginx/resource.html">nginx::resource</a>
  
    <li><a href="../../nginx/resource/upstream.html">nginx::resource::upstream</a>
  
    <li><a href="../../nginx/service.html">nginx::service</a>
  
    <li><a href="../../nothing.html">nothing</a>
  
    <li><a href="../../nothing/nothing.html">nothing::nothing</a>
  
    <li><a href="../../one.html">one</a>
  
    <li><a href="../../one/one.html">one::one</a>
  
    <li><a href="../../profiles.html">profiles</a>
  
    <li><a href="../../profiles/apache.html">profiles::apache</a>
  
    <li><a href="../../profiles/base.html">profiles::base</a>
  
    <li><a href="../../profiles/profiles.html">profiles::profiles</a>
  
    <li><a href="../../puppet.html">puppet</a>
  
    <li><a href="../../puppet/puppet.html">puppet::puppet</a>
  
    <li><a href="../../roles.html">roles</a>
  
    <li><a href="../../roles/roles.html">roles::roles</a>
  
    <li><a href="../../roles/webserver.html">roles::webserver</a>
  
    <li><a href="../../ssh_user.html">ssh_user</a>
  
    <li><a href="../../stdlib.html">stdlib</a>
  
    <li><a href="../../stdlib/__facts__.html">stdlib::__facts__</a>
  
    <li><a href="../../stdlib/__functions__.html">stdlib::__functions__</a>
  
    <li><a href="../../stdlib/__types__.html">stdlib::__types__</a>
  
    <li><a href="../../stdlib/stages.html">stdlib::stages</a>
  
    <li><a href="../../stdlib/stdlib.html">stdlib::stdlib</a>
  
    <li><a href="../../thing.html">thing</a>
  
    <li><a href="../../thing/thing.html">thing::thing</a>
  
    <li><a href="../../thomas-base.html">thomas-base</a>
  
    <li><a href="../../thomas-profiles.html">thomas-profiles</a>
  
    <li><a href="../../thomas-roles.html">thomas-roles</a>
  
    <li><a href="../../two.html">two</a>
  
    <li><a href="../../two/two.html">two::two</a>
  
    <li><a href="../../user.html">user</a>
  
    <li><a href="../../user/developers.html">user::developers</a>
  
    <li><a href="../../user/sysadmins.html">user::sysadmins</a>
  
    <li><a href="../../user/virtual.html">user::virtual</a>
  
    <li><a href="../../virtual.html">virtual</a>
  
    <li><a href="../../virtual/virtual.html">virtual::virtual</a>
  
    <li><a href="../../wordpress.html">wordpress</a>
  
    <li><a href="../../wordpress/wordpress.html">wordpress::wordpress</a>
  
  </ul>
</nav>

  </div>
</nav>

<div id="documentation" class="description">
  
<h1 id="label-apache">apache<span><a href="#label-apache">&para;</a> <a href="#documentation">&uarr;</a></span></h1>

<p><a
href="https://travis-ci.org/puppetlabs/puppetlabs-apache.png?branch=master">{Build
Status</a>]</p>

<h4 id="label-Table+of+Contents">Table of Contents<span><a href="#label-Table+of+Contents">&para;</a> <a href="#documentation">&uarr;</a></span></h4>
<ol><li>
<p><a href="#overview">Overview - What is the apache module?</a></p>
</li><li>
<p><a href="#module-description">Module Description - What does the module
do?</a></p>
</li><li>
<p><a href="#setup">Setup - The basics of getting started with apache</a></p>
<ul><li>
<p><a href="#beginning-with-apache">Beginning with apache - Installation</a></p>
</li><li>
<p><a href="#configure-a-virtual-host">Configure a virtual host - Basic
options for getting started</a></p>
</li></ul>
</li><li>
<p><a href="#usage">Usage - The classes and defined types available for
configuration</a></p>
<ul><li>
<p><a href="#classes-and-defined-types">Classes and Defined Types</a></p>
<ul><li>
<p><a href="#class-apache">Class: apache</a></p>
</li><li>
<p><a href="#class-apachedefault_mods">Class: apache::default_mods</a></p>
</li><li>
<p><a href="#defined-type-apachemod">Defined Type: apache::mod</a></p>
</li><li>
<p><a href="#classes-apachemodname">Classes: apache::mod::*</a></p>
</li><li>
<p><a href="#class-apachemodpagespeed">Class: apache::mod::pagespeed</a></p>
</li><li>
<p><a href="#class-apachemodphp">Class: apache::mod::php</a></p>
</li><li>
<p><a href="#class-apachemodssl">Class: apache::mod::ssl</a></p>
</li><li>
<p><a href="#class-apachemodwsgi">Class: apache::mod::wsgi</a></p>
</li><li>
<p><a href="#defined-type-apachevhost">Defined Type: apache::vhost</a></p>
</li><li>
<p><a href="#parameter-directories-for-apachevhost">Parameter: directories for
apache::vhost</a></p>
</li><li>
<p><a href="#ssl-parameters-for-apachevhost">SSL parameters for
apache::vhost</a></p>
</li></ul>
</li><li>
<p><a href="#virtual-host-examples">Virtual Host Examples - Demonstrations of
some configuration options</a></p>
</li><li>
<p><a href="#load-balancing">Load Balancing</a></p>
<ul><li>
<p><a href="#defined-type-apachebalancer">Defined Type: apache::balancer</a></p>
</li><li>
<p><a href="#defined-type-apachebalancermember">Defined Type:
apache::balancermember</a></p>
</li><li>
<p><a href="#examples">Examples - Load balancing with exported and
non-exported resources</a></p>
</li></ul>
</li></ul>
</li><li>
<p><a href="#reference">Reference - An under-the-hood peek at what the module
is doing and how</a></p>
<ul><li>
<p><a href="#classes">Classes</a></p>
<ul><li>
<p><a href="#public-classes">Public Classes</a></p>
</li><li>
<p><a href="#private-classes">Private Classes</a></p>
</li></ul>
</li><li>
<p><a href="#defined-types">Defined Types</a></p>
<ul><li>
<p><a href="#public-defined-types">Public Defined Types</a></p>
</li><li>
<p><a href="#private-defined-types">Private Defined Types</a></p>
</li></ul>
</li><li>
<p><a href="#templates">Templates</a></p>
</li></ul>
</li><li>
<p><a href="#limitations">Limitations - OS compatibility, etc.</a></p>
</li><li>
<p><a href="#development">Development - Guide for contributing to the
module</a></p>
<ul><li>
<p><a href="#contributing">Contributing to the apache module</a></p>
</li><li>
<p><a href="#running-tests">Running tests - A quick guide</a></p>
</li></ul>
</li></ol>

<h2 id="label-Overview">Overview<span><a href="#label-Overview">&para;</a> <a href="#documentation">&uarr;</a></span></h2>

<p>The apache module allows you to set up virtual hosts and manage web
services with minimal effort.</p>

<h2 id="label-Module+Description">Module Description<span><a href="#label-Module+Description">&para;</a> <a href="#documentation">&uarr;</a></span></h2>

<p>Apache is a widely-used web server, and this module provides a simplified
way of creating configurations to manage your infrastructure. This includes
the ability to configure and manage a range of different virtual host
setups, as well as a streamlined way to install and configure Apache
modules.</p>

<h2 id="label-Setup">Setup<span><a href="#label-Setup">&para;</a> <a href="#documentation">&uarr;</a></span></h2>

<p><strong>What apache affects:</strong></p>
<ul><li>
<p>configuration files and directories (created and written to)</p>
<ul><li>
<p><strong>WARNING</strong>: Configurations that are <em>not</em> managed by
Puppet will be purged.</p>
</li></ul>
</li><li>
<p>package/service/configuration files for Apache</p>
</li><li>
<p>Apache modules</p>
</li><li>
<p>virtual hosts</p>
</li><li>
<p>listened-to ports</p>
</li><li>
<p><code>/etc/make.conf</code> on FreeBSD</p>
</li></ul>

<h3 id="label-Beginning+with+Apache">Beginning with Apache<span><a href="#label-Beginning+with+Apache">&para;</a> <a href="#documentation">&uarr;</a></span></h3>

<p>To install Apache with the default parameters</p>

<pre class="ruby"><span class="ruby-identifier">class</span> { <span class="ruby-string">&#39;apache&#39;</span><span class="ruby-operator">:</span>  }
</pre>

<p>The defaults are determined by your operating system (e.g. Debian systems
have one set of defaults, and RedHat systems have another, as do FreeBSD
systems). These defaults will work well in a testing environment, but are
not suggested for production. To establish customized parameters</p>

<pre class="ruby"><span class="ruby-identifier">class</span> { <span class="ruby-string">&#39;apache&#39;</span><span class="ruby-operator">:</span>
      <span class="ruby-identifier">default_mods</span>        =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword">false</span>,
      <span class="ruby-identifier">default_confd_files</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword">false</span>,
    }
</pre>

<h3 id="label-Configure+a+virtual+host">Configure a virtual host<span><a href="#label-Configure+a+virtual+host">&para;</a> <a href="#documentation">&uarr;</a></span></h3>

<p>Declaring the <code>apache</code> class will create a default virtual host
by setting up a vhost on port 80, listening on all interfaces and serving
<code>$apache::docroot</code>.</p>

<pre class="ruby"><span class="ruby-identifier">class</span> { <span class="ruby-string">&#39;apache&#39;</span><span class="ruby-operator">:</span> }
</pre>

<p>To configure a very basic, name-based virtual host</p>

<pre class="ruby"><span class="ruby-identifier">apache</span><span class="ruby-operator">::</span><span class="ruby-identifier">vhost</span> { <span class="ruby-string">&#39;first.example.com&#39;</span><span class="ruby-operator">:</span>
      <span class="ruby-identifier">port</span>    =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;80&#39;</span>,
      <span class="ruby-identifier">docroot</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;/var/www/first&#39;</span>,
    }
</pre>

<p><em>Note:</em> The default priority is 15. If nothing matches this
priority, the alphabetically first name-based vhost will be used. This is
also true if you pass a higher priority and no names match anything else.</p>

<p>A slightly more complicated example, changes the docroot owner/group from
the default &#39;root&#39;</p>

<pre class="ruby"><span class="ruby-identifier">apache</span><span class="ruby-operator">::</span><span class="ruby-identifier">vhost</span> { <span class="ruby-string">&#39;second.example.com&#39;</span><span class="ruby-operator">:</span>
      <span class="ruby-identifier">port</span>          =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;80&#39;</span>,
      <span class="ruby-identifier">docroot</span>       =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;/var/www/second&#39;</span>,
      <span class="ruby-identifier">docroot_owner</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;third&#39;</span>,
      <span class="ruby-identifier">docroot_group</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;third&#39;</span>,
    }
</pre>

<p>To set up a virtual host with SSL and default SSL certificates</p>

<pre class="ruby"><span class="ruby-identifier">apache</span><span class="ruby-operator">::</span><span class="ruby-identifier">vhost</span> { <span class="ruby-string">&#39;ssl.example.com&#39;</span><span class="ruby-operator">:</span>
      <span class="ruby-identifier">port</span>    =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;443&#39;</span>,
      <span class="ruby-identifier">docroot</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;/var/www/ssl&#39;</span>,
      <span class="ruby-identifier">ssl</span>     =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword">true</span>,
    }
</pre>

<p>To set up a virtual host with SSL and specific SSL certificates</p>

<pre class="ruby"><span class="ruby-identifier">apache</span><span class="ruby-operator">::</span><span class="ruby-identifier">vhost</span> { <span class="ruby-string">&#39;fourth.example.com&#39;</span><span class="ruby-operator">:</span>
      <span class="ruby-identifier">port</span>     =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;443&#39;</span>,
      <span class="ruby-identifier">docroot</span>  =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;/var/www/fourth&#39;</span>,
      <span class="ruby-identifier">ssl</span>      =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword">true</span>,
      <span class="ruby-identifier">ssl_cert</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;/etc/ssl/fourth.example.com.cert&#39;</span>,
      <span class="ruby-identifier">ssl_key</span>  =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;/etc/ssl/fourth.example.com.key&#39;</span>,
    }
</pre>

<p>Virtual hosts listen on &#39;*&#39; by default. To listen on a specific IP
address</p>

<pre class="ruby"><span class="ruby-identifier">apache</span><span class="ruby-operator">::</span><span class="ruby-identifier">vhost</span> { <span class="ruby-string">&#39;subdomain.example.com&#39;</span><span class="ruby-operator">:</span>
      <span class="ruby-identifier">ip</span>      =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;127.0.0.1&#39;</span>,
      <span class="ruby-identifier">port</span>    =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;80&#39;</span>,
      <span class="ruby-identifier">docroot</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;/var/www/subdomain&#39;</span>,
    }
</pre>

<p>To set up a virtual host with a wildcard alias for the subdomain mapped to
a same-named directory, for example: <code>http://example.com.loc</code> to
<code>/var/www/example.com</code></p>

<pre class="ruby"><span class="ruby-identifier">apache</span><span class="ruby-operator">::</span><span class="ruby-identifier">vhost</span> { <span class="ruby-string">&#39;subdomain.loc&#39;</span><span class="ruby-operator">:</span>
      <span class="ruby-identifier">vhost_name</span>       =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;*&#39;</span>,
      <span class="ruby-identifier">port</span>             =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;80&#39;</span>,
      <span class="ruby-identifier">virtual_docroot</span><span class="ruby-string">&#39; =&gt; &#39;</span><span class="ruby-operator">/</span><span class="ruby-identifier">var</span><span class="ruby-operator">/</span><span class="ruby-identifier">www</span><span class="ruby-operator">/</span><span class="ruby-string">%Q2+&#39;,
      docroot          =&gt; &#39;/var/www&#39;,
      serveraliases    =&gt; [&#39;*.loc&#39;,],
    }
</span></pre>

<p>To set up a virtual host with suPHP</p>

<pre class="ruby"><span class="ruby-identifier">apache</span><span class="ruby-operator">::</span><span class="ruby-identifier">vhost</span> { <span class="ruby-string">&#39;suphp.example.com&#39;</span><span class="ruby-operator">:</span>
      <span class="ruby-identifier">port</span>                =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;80&#39;</span>,
      <span class="ruby-identifier">docroot</span>             =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;/home/appuser/myphpapp&#39;</span>,
      <span class="ruby-identifier">suphp_addhandler</span>    =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;x-httpd-php&#39;</span>,
      <span class="ruby-identifier">suphp_engine</span>        =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;on&#39;</span>,
      <span class="ruby-identifier">suphp_configpath</span>    =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;/etc/php5/apache2&#39;</span>,
      <span class="ruby-identifier">directories</span>         =<span class="ruby-operator">&gt;</span> { <span class="ruby-identifier">path</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;/home/appuser/myphpapp&#39;</span>,
        <span class="ruby-string">&#39;suphp&#39;</span>           =<span class="ruby-operator">&gt;</span> { <span class="ruby-identifier">user</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;myappuser&#39;</span>, <span class="ruby-identifier">group</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;myappgroup&#39;</span> },
      }
    }
</pre>

<p>To set up a virtual host with WSGI</p>

<pre class="ruby"><span class="ruby-identifier">apache</span><span class="ruby-operator">::</span><span class="ruby-identifier">vhost</span> { <span class="ruby-string">&#39;wsgi.example.com&#39;</span><span class="ruby-operator">:</span>
      <span class="ruby-identifier">port</span>                        =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;80&#39;</span>,
      <span class="ruby-identifier">docroot</span>                     =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;/var/www/pythonapp&#39;</span>,
      <span class="ruby-identifier">wsgi_application_group</span>      =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;%{GLOBAL}&#39;</span>,
      <span class="ruby-identifier">wsgi_daemon_process</span>         =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;wsgi&#39;</span>,
      <span class="ruby-identifier">wsgi_daemon_process_options</span> =<span class="ruby-operator">&gt;</span> { 
        <span class="ruby-identifier">processes</span>    =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;2&#39;</span>, 
        <span class="ruby-identifier">threads</span>      =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;15&#39;</span>, 
        <span class="ruby-identifier">display</span><span class="ruby-operator">-</span><span class="ruby-identifier">name</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;%{GROUP}&#39;</span>,
       },
      <span class="ruby-identifier">wsgi_import_script</span>          =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;/var/www/demo.wsgi&#39;</span>,
      <span class="ruby-identifier">wsgi_import_script_options</span>  =<span class="ruby-operator">&gt;</span>
        { <span class="ruby-identifier">process</span><span class="ruby-operator">-</span><span class="ruby-identifier">group</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;wsgi&#39;</span>, <span class="ruby-identifier">application</span><span class="ruby-operator">-</span><span class="ruby-identifier">group</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;%{GLOBAL}&#39;</span> },
      <span class="ruby-identifier">wsgi_process_group</span>          =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;wsgi&#39;</span>,
      <span class="ruby-identifier">wsgi_script_aliases</span>         =<span class="ruby-operator">&gt;</span> { <span class="ruby-string">&#39;/&#39;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;/var/www/demo.wsgi&#39;</span> },
    }
</pre>

<p>Starting in Apache 2.2.16, HTTPD supports <a
href="https://httpd.apache.org/docs/current/mod/mod_dir.html#fallbackresource">FallbackResource</a>,
a simple replacement for common RewriteRules.</p>

<pre class="ruby"><span class="ruby-identifier">apache</span><span class="ruby-operator">::</span><span class="ruby-identifier">vhost</span> { <span class="ruby-string">&#39;wordpress.example.com&#39;</span><span class="ruby-operator">:</span>
      <span class="ruby-identifier">port</span>                =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;80&#39;</span>,
      <span class="ruby-identifier">docroot</span>             =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;/var/www/wordpress&#39;</span>,
      <span class="ruby-identifier">fallbackresource</span>    =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;/index.php&#39;</span>,
    }
</pre>

<p>Please note that the &#39;disabled&#39; argument to FallbackResource is
only supported since Apache 2.2.24.</p>

<p>See a list of all <a href="#defined-type-apachevhost">virtual host
parameters</a>. See an extensive list of <a
href="#virtual-host-examples">virtual host examples</a>.</p>

<h2 id="label-Usage">Usage<span><a href="#label-Usage">&para;</a> <a href="#documentation">&uarr;</a></span></h2>

<h3 id="label-Classes+and+Defined+Types">Classes and Defined Types<span><a href="#label-Classes+and+Defined+Types">&para;</a> <a href="#documentation">&uarr;</a></span></h3>

<p>This module modifies Apache configuration files and directories, and will
purge any configuration not managed by Puppet. Configuration of Apache
should be managed by Puppet, as non-Puppet configuration files can cause
unexpected failures.</p>

<p>It is possible to temporarily disable full Puppet management by setting the
<a href="#purge_configs">purge_configs</a> parameter within the base
<code>apache</code> class to &#39;false&#39;. This option should only be
used as a temporary means of saving and relocating customized
configurations. See the <a href="#purge_configs">purge_configs
parameter</a> for more information.</p>

<h4 id="label-Class%3A+apache">Class: <code>apache</code><span><a href="#label-Class%3A+apache">&para;</a> <a href="#documentation">&uarr;</a></span></h4>

<p>The apache module&#39;s primary class, <code>apache</code>, guides the
basic setup of Apache on your system.</p>

<p>You may establish a default vhost in this class, the <code>vhost</code>
class, or both. You may add additional vhost configurations for specific
virtual hosts using a declaration of the <code>vhost</code> type.</p>

<p><strong>Parameters within <code>apache</code>:</strong></p>

<h5 id="label-apache_version"><code>apache_version</code><span><a href="#label-apache_version">&para;</a> <a href="#documentation">&uarr;</a></span></h5>

<p>Configures the behavior of the module templates, package names, and default
mods by setting the Apache version. Default is determined by the class
<code>apache::version</code> using the OS family and release. It should not
be configured manually without special reason.</p>

<h5 id="label-confd_dir"><code>confd_dir</code><span><a href="#label-confd_dir">&para;</a> <a href="#documentation">&uarr;</a></span></h5>

<p>Changes the location of the configuration directory your custom
configuration files are placed in. Defaults to &#39;/etc/httpd/conf&#39; on
RedHat, &#39;/etc/apache2&#39; on Debian, and
&#39;/usr/local/etc/apache22&#39; on FreeBSD.</p>

<h5 id="label-conf_template"><code>conf_template</code><span><a href="#label-conf_template">&para;</a> <a href="#documentation">&uarr;</a></span></h5>

<p>Overrides the template used for the main apache configuration file.
Defaults to &#39;apache/httpd.conf.erb&#39;.</p>

<p><em>Note:</em> Using this parameter is potentially risky, as the module has
been built for a minimal configuration file with the configuration
primarily coming from conf.d/ entries.</p>

<h5 id="label-default_confd_files"><code>default_confd_files</code><span><a href="#label-default_confd_files">&para;</a> <a href="#documentation">&uarr;</a></span></h5>

<p>Generates default set of include-able Apache configuration files under
<code>${apache::confd_dir}</code> directory. These configuration files
correspond to what is usually installed with the Apache package on a given
platform.</p>

<h5 id="label-default_mods"><code>default_mods</code><span><a href="#label-default_mods">&para;</a> <a href="#documentation">&uarr;</a></span></h5>

<p>Sets up Apache with default settings based on your OS. Valid values are
&#39;true&#39;, &#39;false&#39;, or an array of mod names.</p>

<p>Defaults to &#39;true&#39;, which will include the default <a
href="https://github.com/puppetlabs/puppetlabs-apache/blob/master/manifests/default_mods.pp">HTTPD
mods</a>.</p>

<p>If false, it will only include the mods required to make HTTPD work, and
any other mods can be declared on their own.</p>

<p>If an array, the apache module will include the array of mods listed.</p>

<h5 id="label-default_ssl_ca"><code>default_ssl_ca</code><span><a href="#label-default_ssl_ca">&para;</a> <a href="#documentation">&uarr;</a></span></h5>

<p>The default certificate authority, which is automatically set to
&#39;undef&#39;. This default will work out of the box but must be updated
with your specific certificate information before being used in production.</p>

<h5 id="label-default_ssl_cert"><code>default_ssl_cert</code><span><a href="#label-default_ssl_cert">&para;</a> <a href="#documentation">&uarr;</a></span></h5>

<p>The default SSL certification, which is automatically set based on your
operating system (&#39;/etc/pki/tls/certs/localhost.crt&#39; for RedHat,
&#39;/etc/ssl/certs/ssl-cert-snakeoil.pem&#39; for Debian, and
&#39;/usr/local/etc/apache22/server.crt&#39; for FreeBSD). This default
will work out of the box but must be updated with your specific certificate
information before being used in production.</p>

<h5 id="label-default_ssl_chain"><code>default_ssl_chain</code><span><a href="#label-default_ssl_chain">&para;</a> <a href="#documentation">&uarr;</a></span></h5>

<p>The default SSL chain, which is automatically set to &#39;undef&#39;. This
default will work out of the box but must be updated with your specific
certificate information before being used in production.</p>

<h5 id="label-default_ssl_crl"><code>default_ssl_crl</code><span><a href="#label-default_ssl_crl">&para;</a> <a href="#documentation">&uarr;</a></span></h5>

<p>The default certificate revocation list to use, which is automatically set
to &#39;undef&#39;. This default will work out of the box but must be
updated with your specific certificate information before being used in
production.</p>

<h5 id="label-default_ssl_crl_path"><code>default_ssl_crl_path</code><span><a href="#label-default_ssl_crl_path">&para;</a> <a href="#documentation">&uarr;</a></span></h5>

<p>The default certificate revocation list path, which is automatically set to
&#39;undef&#39;. This default will work out of the box but must be updated
with your specific certificate information before being used in production.</p>

<h5 id="label-default_ssl_key"><code>default_ssl_key</code><span><a href="#label-default_ssl_key">&para;</a> <a href="#documentation">&uarr;</a></span></h5>

<p>The default SSL key, which is automatically set based on your operating
system (&#39;/etc/pki/tls/private/localhost.key&#39; for RedHat,
&#39;/etc/ssl/private/ssl-cert-snakeoil.key&#39; for Debian, and
&#39;/usr/local/etc/apache22/server.key&#39; for FreeBSD). This default
will work out of the box but must be updated with your specific certificate
information before being used in production.</p>

<h5 id="label-default_ssl_vhost"><code>default_ssl_vhost</code><span><a href="#label-default_ssl_vhost">&para;</a> <a href="#documentation">&uarr;</a></span></h5>

<p>Sets up a default SSL virtual host. Defaults to &#39;false&#39;. If set to
&#39;true&#39;, will set up the following vhost:</p>

<pre class="ruby"><span class="ruby-identifier">apache</span><span class="ruby-operator">::</span><span class="ruby-identifier">vhost</span> { <span class="ruby-string">&#39;default-ssl&#39;</span><span class="ruby-operator">:</span>
      <span class="ruby-identifier">port</span>            =<span class="ruby-operator">&gt;</span> <span class="ruby-value">443</span>,
      <span class="ruby-identifier">ssl</span>             =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword">true</span>,
      <span class="ruby-identifier">docroot</span>         =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">$docroot</span>,
      <span class="ruby-identifier">scriptalias</span>     =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">$scriptalias</span>,
      <span class="ruby-identifier">serveradmin</span>     =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">$serveradmin</span>,
      <span class="ruby-identifier">access_log_file</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&quot;ssl_${access_log_file}&quot;</span>,
      }
</pre>

<p>SSL vhosts only respond to HTTPS queries.</p>

<h5 id="label-default_vhost"><code>default_vhost</code><span><a href="#label-default_vhost">&para;</a> <a href="#documentation">&uarr;</a></span></h5>

<p>Sets up a default virtual host. Defaults to &#39;true&#39;, set to
&#39;false&#39; to set up <a href="#configure-a-virtual-host">customized
virtual hosts</a>.</p>

<h5 id="label-error_documents"><code>error_documents</code><span><a href="#label-error_documents">&para;</a> <a href="#documentation">&uarr;</a></span></h5>

<p>Enables custom error documents. Defaults to &#39;false&#39;.</p>

<h5 id="label-httpd_dir"><code>httpd_dir</code><span><a href="#label-httpd_dir">&para;</a> <a href="#documentation">&uarr;</a></span></h5>

<p>Changes the base location of the configuration directories used for the
apache service. This is useful for specially repackaged HTTPD builds, but
may have unintended consequences when used in combination with the default
distribution packages. Defaults to &#39;/etc/httpd&#39; on RedHat,
&#39;/etc/apache2&#39; on Debian, and &#39;/usr/local/etc/apache22&#39; on
FreeBSD.</p>

<h5 id="label-keepalive"><code>keepalive</code><span><a href="#label-keepalive">&para;</a> <a href="#documentation">&uarr;</a></span></h5>

<p>Enables persistent connections.</p>

<h5 id="label-keepalive_timeout"><code>keepalive_timeout</code><span><a href="#label-keepalive_timeout">&para;</a> <a href="#documentation">&uarr;</a></span></h5>

<p>Sets the amount of time the server will wait for subsequent requests on a
persistent connection. Defaults to &#39;15&#39;.</p>

<h5 id="label-max_keepalive_requests"><code>max_keepalive_requests</code><span><a href="#label-max_keepalive_requests">&para;</a> <a href="#documentation">&uarr;</a></span></h5>

<p>Sets the limit of the number of requests allowed per connection when
KeepAlive is on. Defaults to &#39;100&#39;.</p>

<h5 id="label-log_level"><code>log_level</code><span><a href="#label-log_level">&para;</a> <a href="#documentation">&uarr;</a></span></h5>

<p>Changes the verbosity level of the error log. Defaults to &#39;warn&#39;.
Valid values are &#39;emerg&#39;, &#39;alert&#39;, &#39;crit&#39;,
&#39;error&#39;, &#39;warn&#39;, &#39;notice&#39;, &#39;info&#39;, or
&#39;debug&#39;.</p>

<h5 id="label-log_formats"><code>log_formats</code><span><a href="#label-log_formats">&para;</a> <a href="#documentation">&uarr;</a></span></h5>

<p>Define additional <a
href="https://httpd.apache.org/docs/current/mod/mod_log_config.html#logformat">LogFormats</a>.
This is done in a Hash:</p>

<pre>$log_formats = { vhost_common =&gt; &#39;%v %h %l %u %t \&quot;%r\&quot; %&gt;s %b&#39; }</pre>

<h5 id="label-logroot"><code>logroot</code><span><a href="#label-logroot">&para;</a> <a href="#documentation">&uarr;</a></span></h5>

<p>Changes the directory where Apache log files for the virtual host are
placed. Defaults to &#39;/var/log/httpd&#39; on RedHat,
&#39;/var/log/apache2&#39; on Debian, and &#39;/var/log/apache22&#39; on
FreeBSD.</p>

<h5 id="label-manage_group"><code>manage_group</code><span><a href="#label-manage_group">&para;</a> <a href="#documentation">&uarr;</a></span></h5>

<p>Setting this to &#39;false&#39; will stop the group resource from being
created. This is for when you have a group, created from another Puppet
module, you want to use to run Apache. Without this parameter, attempting
to use a previously established group would result in a duplicate resource
error.</p>

<h5 id="label-manage_user"><code>manage_user</code><span><a href="#label-manage_user">&para;</a> <a href="#documentation">&uarr;</a></span></h5>

<p>Setting this to &#39;false&#39; will stop the user resource from being
created. This is for instances when you have a user, created from another
Puppet module, you want to use to run Apache. Without this parameter,
attempting to use a previously established user would result in a duplicate
resource error.</p>

<h5 id="label-mod_dir"><code>mod_dir</code><span><a href="#label-mod_dir">&para;</a> <a href="#documentation">&uarr;</a></span></h5>

<p>Changes the location of the configuration directory your Apache modules
configuration files are placed in. Defaults to &#39;/etc/httpd/conf.d&#39;
for RedHat, &#39;/etc/apache2/mods-available&#39; for Debian, and
&#39;/usr/local/etc/apache22/Modules&#39; for FreeBSD.</p>

<h5 id="label-mpm_module"><code>mpm_module</code><span><a href="#label-mpm_module">&para;</a> <a href="#documentation">&uarr;</a></span></h5>

<p>Determines which MPM is loaded and configured for the HTTPD process. Valid
values are &#39;event&#39;, &#39;itk&#39;, &#39;peruser&#39;,
&#39;prefork&#39;, &#39;worker&#39;, or &#39;false&#39;. Defaults to
&#39;prefork&#39; on RedHat and FreeBSD, and &#39;worker&#39; on Debian.
Must be set to &#39;false&#39; to explicitly declare the following classes
with custom parameters:</p>
<ul><li>
<p><code>apache::mod::event</code></p>
</li><li>
<p><code>apache::mod::itk</code></p>
</li><li>
<p><code>apache::mod::peruser</code></p>
</li><li>
<p><code>apache::mod::prefork</code></p>
</li><li>
<p><code>apache::mod::worker</code></p>
</li></ul>

<p><em>Note:</em> Switching between different MPMs on FreeBSD is possible but
quite difficult. Before changing <code>$mpm_module</code> you must
uninstall all packages that depend on your currently-installed Apache.</p>

<h5 id="label-package_ensure"><code>package_ensure</code><span><a href="#label-package_ensure">&para;</a> <a href="#documentation">&uarr;</a></span></h5>

<p>Allows control over the package ensure attribute. Can be
&#39;present&#39;,&#39;absent&#39;, or a version string.</p>

<h5 id="label-ports_file"><code>ports_file</code><span><a href="#label-ports_file">&para;</a> <a href="#documentation">&uarr;</a></span></h5>

<p>Changes the name of the file containing Apache ports configuration. Default
is <code>${conf_dir}/ports.conf</code>.</p>

<h5 id="label-purge_configs"><code>purge_configs</code><span><a href="#label-purge_configs">&para;</a> <a href="#documentation">&uarr;</a></span></h5>

<p>Removes all other Apache configs and vhosts, defaults to &#39;true&#39;.
Setting this to &#39;false&#39; is a stopgap measure to allow the apache
module to coexist with existing or otherwise-managed configuration. It is
recommended that you move your configuration entirely to resources within
this module.</p>

<h5 id="label-sendfile"><code>sendfile</code><span><a href="#label-sendfile">&para;</a> <a href="#documentation">&uarr;</a></span></h5>

<p>Makes Apache use the Linux kernel sendfile to serve static files. Defaults
to &#39;On&#39;.</p>

<h5 id="label-serveradmin"><code>serveradmin</code><span><a href="#label-serveradmin">&para;</a> <a href="#documentation">&uarr;</a></span></h5>

<p>Sets the server administrator. Defaults to &#39;root@localhost&#39;.</p>

<h5 id="label-servername"><code>servername</code><span><a href="#label-servername">&para;</a> <a href="#documentation">&uarr;</a></span></h5>

<p>Sets the server name. Defaults to <code>fqdn</code> provided by Facter.</p>

<h5 id="label-server_root"><code>server_root</code><span><a href="#label-server_root">&para;</a> <a href="#documentation">&uarr;</a></span></h5>

<p>Sets the root directory in which the server resides. Defaults to
&#39;/etc/httpd&#39; on RedHat, &#39;/etc/apache2&#39; on Debian, and
&#39;/usr/local&#39; on FreeBSD.</p>

<h5 id="label-server_signature"><code>server_signature</code><span><a href="#label-server_signature">&para;</a> <a href="#documentation">&uarr;</a></span></h5>

<p>Configures a trailing footer line under server-generated documents. More
information about <a
href="http://httpd.apache.org/docs/current/mod/core.html#serversignature">ServerSignature</a>.
Defaults to &#39;On&#39;.</p>

<h5 id="label-server_tokens"><code>server_tokens</code><span><a href="#label-server_tokens">&para;</a> <a href="#documentation">&uarr;</a></span></h5>

<p>Controls how much information Apache sends to the browser about itself and
the operating system. More information about <a
href="http://httpd.apache.org/docs/current/mod/core.html#servertokens">ServerTokens</a>.
Defaults to &#39;OS&#39;.</p>

<h5 id="label-service_enable"><code>service_enable</code><span><a href="#label-service_enable">&para;</a> <a href="#documentation">&uarr;</a></span></h5>

<p>Determines whether the HTTPD service is enabled when the machine is booted.
Defaults to &#39;true&#39;.</p>

<h5 id="label-service_ensure"><code>service_ensure</code><span><a href="#label-service_ensure">&para;</a> <a href="#documentation">&uarr;</a></span></h5>

<p>Determines whether the service should be running. Can be set to
&#39;undef&#39;, which is useful when you want to let the service be
managed by some other application like Pacemaker. Defaults to
&#39;running&#39;.</p>

<h5 id="label-service_name"><code>service_name</code><span><a href="#label-service_name">&para;</a> <a href="#documentation">&uarr;</a></span></h5>

<p>Name of the Apache service to run. Defaults to: &#39;httpd&#39; on RedHat,
&#39;apache2&#39; on Debian, and &#39;apache22&#39; on FreeBSD.</p>

<h5 id="label-trace_enable"><code>trace_enable</code><span><a href="#label-trace_enable">&para;</a> <a href="#documentation">&uarr;</a></span></h5>

<p>Controls how TRACE requests per RFC 2616 are handled. More information
about <a
href="http://httpd.apache.org/docs/current/mod/core.html#traceenable">TraceEnable</a>.
Defaults to &#39;On&#39;.</p>

<h5 id="label-vhost_dir"><code>vhost_dir</code><span><a href="#label-vhost_dir">&para;</a> <a href="#documentation">&uarr;</a></span></h5>

<p>Changes the location of the configuration directory your virtual host
configuration files are placed in. Defaults to &#39;etc/httpd/conf.d&#39;
on RedHat, &#39;/etc/apache2/sites-available&#39; on Debian, and
&#39;/usr/local/etc/apache22/Vhosts&#39; on FreeBSD.</p>

<h4 id="label-Class%3A+apache%3A%3Adefault_mods">Class: <code>apache::default_mods</code><span><a href="#label-Class%3A+apache%3A%3Adefault_mods">&para;</a> <a href="#documentation">&uarr;</a></span></h4>

<p>Installs default Apache modules based on what OS you are running.</p>

<pre class="ruby"><span class="ruby-identifier">class</span> { <span class="ruby-string">&#39;apache::default_mods&#39;</span><span class="ruby-operator">:</span> }
</pre>

<h4 id="label-Defined+Type%3A+apache%3A%3Amod">Defined Type: <code>apache::mod</code><span><a href="#label-Defined+Type%3A+apache%3A%3Amod">&para;</a> <a href="#documentation">&uarr;</a></span></h4>

<p>Used to enable arbitrary Apache HTTPD modules for which there is no
specific <code>apache::mod::[name]</code> class. The
<code>apache::mod</code> defined type will also install the required
packages to enable the module, if any.</p>

<pre>apache::mod { &#39;rewrite&#39;: }
    apache::mod { &#39;ldap&#39;: }</pre>

<h4 id="label-Classes%3A+apache%3A%3Amod%3A%3A%5Bname%5D">Classes: <code>apache::mod::[name]</code><span><a href="#label-Classes%3A+apache%3A%3Amod%3A%3A%5Bname%5D">&para;</a> <a href="#documentation">&uarr;</a></span></h4>

<p>There are many <code>apache::mod::[name]</code> classes within this module
that can be declared using <code>include</code>:</p>
<ul><li>
<p><code>actions</code></p>
</li><li>
<p><code>alias</code></p>
</li><li>
<p><code>auth_basic</code></p>
</li><li>
<p><code>auth_kerb</code></p>
</li><li>
<p><code>authnz_ldap</code>*</p>
</li><li>
<p><code>autoindex</code></p>
</li><li>
<p><code>cache</code></p>
</li><li>
<p><code>cgi</code></p>
</li><li>
<p><code>cgid</code></p>
</li><li>
<p><code>dav</code></p>
</li><li>
<p><code>dav_fs</code></p>
</li><li>
<p><code>dav_svn</code></p>
</li><li>
<p><code>deflate</code></p>
</li><li>
<p><code>dev</code></p>
</li><li>
<p><code>dir</code>*</p>
</li><li>
<p><code>disk_cache</code></p>
</li><li>
<p><code>event</code></p>
</li><li>
<p><code>expires</code></p>
</li><li>
<p><code>fastcgi</code></p>
</li><li>
<p><code>fcgid</code></p>
</li><li>
<p><code>headers</code></p>
</li><li>
<p><code>include</code></p>
</li><li>
<p><code>info</code></p>
</li><li>
<p><code>itk</code></p>
</li><li>
<p><code>ldap</code></p>
</li><li>
<p><code>mime</code></p>
</li><li>
<p><code>mime_magic</code>*</p>
</li><li>
<p><code>negotiation</code></p>
</li><li>
<p><code>nss</code>*</p>
</li><li>
<p><code>pagespeed</code> (see <a
href="#class-apachemodpagespeed">apache::mod::pagespeed</a> below)</p>
</li><li>
<p><code>passenger</code>*</p>
</li><li>
<p><code>perl</code></p>
</li><li>
<p><code>peruser</code></p>
</li><li>
<p><code>php</code> (requires <a href="#mpm_module">mpm_module</a> set to
<code>prefork</code>)</p>
</li><li>
<p><code>prefork</code>*</p>
</li><li>
<p><code>proxy</code>*</p>
</li><li>
<p><code>proxy_ajp</code></p>
</li><li>
<p><code>proxy_balancer</code></p>
</li><li>
<p><code>proxy_html</code></p>
</li><li>
<p><code>proxy_http</code></p>
</li><li>
<p><code>python</code></p>
</li><li>
<p><code>reqtimeout</code></p>
</li><li>
<p><code>rewrite</code></p>
</li><li>
<p><code>rpaf</code>*</p>
</li><li>
<p><code>setenvif</code></p>
</li><li>
<p><code>speling</code></p>
</li><li>
<p><code>ssl</code>* (see <a href="#class-apachemodssl">apache::mod::ssl</a>
below)</p>
</li><li>
<p><code>status</code>*</p>
</li><li>
<p><code>suphp</code></p>
</li><li>
<p><code>userdir</code>*</p>
</li><li>
<p><code>vhost_alias</code></p>
</li><li>
<p><code>worker</code>*</p>
</li><li>
<p><code>wsgi</code> (see <a href="#class-apachemodwsgi">apache::mod::wsgi</a>
below)</p>
</li><li>
<p><code>xsendfile</code></p>
</li></ul>

<p>Modules noted with a * indicate that the module has settings and, thus, a
template that includes parameters. These parameters control the
module&#39;s configuration. Most of the time, these parameters will not
require any configuration or attention.</p>

<p>The modules mentioned above, and other Apache modules that have templates,
will cause template files to be dropped along with the mod install and the
module will not work without the template. Any module without a template
will install the package but drop no files.</p>

<h4 id="label-Class%3A+apache%3A%3Amod%3A%3Apagespeed">Class: <code>apache::mod::pagespeed</code><span><a href="#label-Class%3A+apache%3A%3Amod%3A%3Apagespeed">&para;</a> <a href="#documentation">&uarr;</a></span></h4>

<p>Installs and manages mod_pagespeed, which is a Google module that rewrites
web pages to reduce latency and bandwidth.</p>

<p>This module does <em>not</em> manage the software repositories needed to
automatically install the mod-pagespeed-stable package. The module does
however require that the package be installed, or be installable using the
system&#39;s default package provider. You should ensure that this
pre-requisite is met or declaring <code>apache::mod::pagespeed</code> will
cause the puppet run to fail.</p>

<p>These are the defaults:</p>

<pre class="ruby"><span class="ruby-identifier">class</span> { <span class="ruby-string">&#39;apache::mod::pagespeed&#39;</span><span class="ruby-operator">:</span>
      <span class="ruby-identifier">inherit_vhost_config</span>          =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;on&#39;</span>,
      <span class="ruby-identifier">filter_xhtml</span>                  =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword">false</span>,
      <span class="ruby-identifier">cache_path</span>                    =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;/var/cache/mod_pagespeed/&#39;</span>,
      <span class="ruby-identifier">log_dir</span>                       =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;/var/log/pagespeed&#39;</span>,
      <span class="ruby-identifier">memache_servers</span>               =<span class="ruby-operator">&gt;</span> [],
      <span class="ruby-identifier">rewrite_level</span>                 =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;CoreFilters&#39;</span>,
      <span class="ruby-identifier">disable_filters</span>               =<span class="ruby-operator">&gt;</span> [],
      <span class="ruby-identifier">enable_filters</span>                =<span class="ruby-operator">&gt;</span> [],
      <span class="ruby-identifier">forbid_filters</span>                =<span class="ruby-operator">&gt;</span> [],
      <span class="ruby-identifier">rewrite_deadline_per_flush_ms</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">10</span>,
      <span class="ruby-identifier">additional_domains</span>            =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword">undef</span>,
      <span class="ruby-identifier">file_cache_size_kb</span>            =<span class="ruby-operator">&gt;</span> <span class="ruby-value">102400</span>,
      <span class="ruby-identifier">file_cache_clean_interval_ms</span>  =<span class="ruby-operator">&gt;</span> <span class="ruby-value">3600000</span>,
      <span class="ruby-identifier">lru_cache_per_process</span>         =<span class="ruby-operator">&gt;</span> <span class="ruby-value">1024</span>,
      <span class="ruby-identifier">lru_cache_byte_limit</span>          =<span class="ruby-operator">&gt;</span> <span class="ruby-value">16384</span>,
      <span class="ruby-identifier">css_flatten_max_bytes</span>         =<span class="ruby-operator">&gt;</span> <span class="ruby-value">2048</span>,
      <span class="ruby-identifier">css_inline_max_bytes</span>          =<span class="ruby-operator">&gt;</span> <span class="ruby-value">2048</span>,
      <span class="ruby-identifier">css_image_inline_max_bytes</span>    =<span class="ruby-operator">&gt;</span> <span class="ruby-value">2048</span>,
      <span class="ruby-identifier">image_inline_max_bytes</span>        =<span class="ruby-operator">&gt;</span> <span class="ruby-value">2048</span>,
      <span class="ruby-identifier">js_inline_max_bytes</span>           =<span class="ruby-operator">&gt;</span> <span class="ruby-value">2048</span>,
      <span class="ruby-identifier">css_outline_min_bytes</span>         =<span class="ruby-operator">&gt;</span> <span class="ruby-value">3000</span>,
      <span class="ruby-identifier">js_outline_min_bytes</span>          =<span class="ruby-operator">&gt;</span> <span class="ruby-value">3000</span>,
      <span class="ruby-identifier">inode_limit</span>                   =<span class="ruby-operator">&gt;</span> <span class="ruby-value">500000</span>,
      <span class="ruby-identifier">image_max_rewrites_at_once</span>    =<span class="ruby-operator">&gt;</span> <span class="ruby-value">8</span>,
      <span class="ruby-identifier">num_rewrite_threads</span>           =<span class="ruby-operator">&gt;</span> <span class="ruby-value">4</span>,
      <span class="ruby-identifier">num_expensive_rewrite_threads</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">4</span>,
      <span class="ruby-identifier">collect_statistics</span>            =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;on&#39;</span>,
      <span class="ruby-identifier">statistics_logging</span>            =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;on&#39;</span>,
      <span class="ruby-identifier">allow_view_stats</span>              =<span class="ruby-operator">&gt;</span> [],
      <span class="ruby-identifier">allow_pagespeed_console</span>       =<span class="ruby-operator">&gt;</span> [],
      <span class="ruby-identifier">allow_pagespeed_message</span>       =<span class="ruby-operator">&gt;</span> [],
      <span class="ruby-identifier">message_buffer_size</span>           =<span class="ruby-operator">&gt;</span> <span class="ruby-value">100000</span>,
      <span class="ruby-identifier">additional_configuration</span>      =<span class="ruby-operator">&gt;</span> { }
    }
</pre>

<p>Full documentation for mod_pagespeed is available from <a
href="http://modpagespeed.com">Google</a>.</p>

<h4 id="label-Class%3A+apache%3A%3Amod%3A%3Aphp">Class: <code>apache::mod::php</code><span><a href="#label-Class%3A+apache%3A%3Amod%3A%3Aphp">&para;</a> <a href="#documentation">&uarr;</a></span></h4>

<p>Installs and configures mod_php. The defaults are OS-dependant.</p>

<p>Overriding the package name: <code>   class {&#39;::apache::mod::php&#39;: 
package_name =&gt; &quot;php54-php&quot;,     path         =&gt;
&quot;${::apache::params::lib_path}/libphp54-php5.so&quot;,   } </code></p>

<h4 id="label-Class%3A+apache%3A%3Amod%3A%3Assl">Class: <code>apache::mod::ssl</code><span><a href="#label-Class%3A+apache%3A%3Amod%3A%3Assl">&para;</a> <a href="#documentation">&uarr;</a></span></h4>

<p>Installs Apache SSL capabilities and uses the ssl.conf.erb template. These
are the defaults:</p>

<pre class="ruby"><span class="ruby-identifier">class</span> { <span class="ruby-string">&#39;apache::mod::ssl&#39;</span><span class="ruby-operator">:</span>
      <span class="ruby-identifier">ssl_compression</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword">false</span>,
      <span class="ruby-identifier">ssl_options</span>     =<span class="ruby-operator">&gt;</span> [ <span class="ruby-string">&#39;StdEnvVars&#39;</span> ],
  }
</pre>

<p>To <em>use</em> SSL with a virtual host, you must either set
the<code>default_ssl_vhost</code> parameter in <code>::apache</code> to
&#39;true&#39; or set the <code>ssl</code> parameter in
<code>apache::vhost</code> to &#39;true&#39;.</p>

<h4 id="label-Class%3A+apache%3A%3Amod%3A%3Awsgi">Class: <code>apache::mod::wsgi</code><span><a href="#label-Class%3A+apache%3A%3Amod%3A%3Awsgi">&para;</a> <a href="#documentation">&uarr;</a></span></h4>

<p>Enables Python support in the WSGI module. To use, simply <code>include
&#39;apache::mod::wsgi&#39;</code>.</p>

<p>For customized parameters, which tell Apache how Python is currently
configured on the operating system,</p>

<pre class="ruby"><span class="ruby-identifier">class</span> { <span class="ruby-string">&#39;apache::mod::wsgi&#39;</span><span class="ruby-operator">:</span>
      <span class="ruby-identifier">wsgi_socket_prefix</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&quot;\${APACHE_RUN_DIR}WSGI&quot;</span>,
      <span class="ruby-identifier">wsgi_python_home</span>   =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;/path/to/venv&#39;</span>,
      <span class="ruby-identifier">wsgi_python_path</span>   =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;/path/to/venv/site-packages&#39;</span>,
    }
</pre>

<p>More information about <a
href="http://modwsgi.readthedocs.org/en/latest/">WSGI</a>.</p>

<h4 id="label-Defined+Type%3A+apache%3A%3Avhost">Defined Type: <code>apache::vhost</code><span><a href="#label-Defined+Type%3A+apache%3A%3Avhost">&para;</a> <a href="#documentation">&uarr;</a></span></h4>

<p>The Apache module allows a lot of flexibility in the setup and
configuration of virtual hosts. This flexibility is due, in part, to
<code>vhost</code>&#39;s being a defined resource type, which allows it to
be evaluated multiple times with different parameters.</p>

<p>The <code>vhost</code> defined type allows you to have specialized
configurations for virtual hosts that have requirements outside the
defaults. You can set up a default vhost within the base
<code>::apache</code> class, as well as set a customized vhost as default.
Your customized vhost (priority 10) will be privileged over the base class
vhost (15).</p>

<p>If you have a series of specific configurations and do not want a base
<code>::apache</code> class default vhost, make sure to set the base class
<code>default_vhost</code> to &#39;false&#39;.</p>

<pre class="ruby"><span class="ruby-identifier">class</span> { <span class="ruby-string">&#39;apache&#39;</span><span class="ruby-operator">:</span>
      <span class="ruby-identifier">default_vhost</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword">false</span>,
    }
</pre>

<p><strong>Parameters within <code>apache::vhost</code>:</strong></p>

<h5 id="label-access_log"><code>access_log</code><span><a href="#label-access_log">&para;</a> <a href="#documentation">&uarr;</a></span></h5>

<p>Specifies whether <code>*_access.log</code> directives
(<code>*_file</code>,<code>*_pipe</code>, or <code>*_syslog</code>) should
be configured. Setting the value to &#39;false&#39; will choose none.
Defaults to &#39;true&#39;.</p>

<h5 id="label-access_log_file"><code>access_log_file</code><span><a href="#label-access_log_file">&para;</a> <a href="#documentation">&uarr;</a></span></h5>

<p>Sets the <code>*_access.log</code> filename that is placed in
<code>$logroot</code>. Given a vhost, example.com, it defaults to
&#39;example.com_ssl.log&#39; for SSL vhosts and
&#39;example.com_access.log&#39; for non-SSL vhosts.</p>

<h5 id="label-access_log_pipe"><code>access_log_pipe</code><span><a href="#label-access_log_pipe">&para;</a> <a href="#documentation">&uarr;</a></span></h5>

<p>Specifies a pipe to send access log messages to. Defaults to
&#39;undef&#39;.</p>

<h5 id="label-access_log_syslog"><code>access_log_syslog</code><span><a href="#label-access_log_syslog">&para;</a> <a href="#documentation">&uarr;</a></span></h5>

<p>Sends all access log messages to syslog. Defaults to &#39;undef&#39;.</p>

<h5 id="label-access_log_format"><code>access_log_format</code><span><a href="#label-access_log_format">&para;</a> <a href="#documentation">&uarr;</a></span></h5>

<p>Specifies the use of either a LogFormat nickname or a custom format string
for the access log. Defaults to &#39;combined&#39;. See <a
href="http://httpd.apache.org/docs/current/mod/mod_log_config.html">these
examples</a>.</p>

<h5 id="label-access_log_env_var"><code>access_log_env_var</code><span><a href="#label-access_log_env_var">&para;</a> <a href="#documentation">&uarr;</a></span></h5>

<p>Specifies that only requests with particular environment variables be
logged. Defaults to &#39;undef&#39;.</p>

<h5 id="label-add_listen"><code>add_listen</code><span><a href="#label-add_listen">&para;</a> <a href="#documentation">&uarr;</a></span></h5>

<p>Determines whether the vhost creates a Listen statement. The default value
is &#39;true&#39;.</p>

<p>Setting <code>add_listen</code> to &#39;false&#39; stops the vhost from
creating a Listen statement, and this is important when you combine vhosts
that are not passed an <code>ip</code> parameter with vhosts that
<em>are</em> passed the <code>ip</code> parameter.</p>

<h5 id="label-additional_includes"><code>additional_includes</code><span><a href="#label-additional_includes">&para;</a> <a href="#documentation">&uarr;</a></span></h5>

<p>Specifies paths to additional static, vhost-specific Apache configuration
files. Useful for implementing a unique, custom configuration not supported
by this module. Can be an array. Defaults to &#39;[]&#39;.</p>

<h5 id="label-aliases"><code>aliases</code><span><a href="#label-aliases">&para;</a> <a href="#documentation">&uarr;</a></span></h5>

<p>Passes a list of hashes to the vhost to create Alias or AliasMatch
directives as per the <a
href="http://httpd.apache.org/docs/current/mod/mod_alias.html">mod_alias
documentation</a>. These hashes are formatted as follows:</p>

<pre class="ruby"><span class="ruby-identifier">aliases</span> =<span class="ruby-operator">&gt;</span> [
  { <span class="ruby-identifier">aliasmatch</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;^/image/(.*)\.jpg$&#39;</span>, 
    <span class="ruby-identifier">path</span>       =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;/files/jpg.images/$1.jpg&#39;</span>,
  }
  { <span class="ruby-keyword">alias</span>      =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;/image&#39;</span>,
    <span class="ruby-identifier">path</span>       =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;/ftp/pub/image&#39;</span>, 
  },
],
</pre>

<p>For <code>alias</code> and <code>aliasmatch</code> to work, each will need
a corresponding context, such as &#39;&lt; Directory
/path/to/directory&gt;&#39; or &#39;&lt;Location
/path/to/directory&gt;&#39;. The Alias and AliasMatch directives are
created in the order specified in the <code>aliases</code> parameter. As
described in the <a
href="http://httpd.apache.org/docs/current/mod/mod_alias.html">mod_alias
documentation</a>, more specific <code>alias</code> or
<code>aliasmatch</code> parameters should come before the more general ones
to avoid shadowing.</p>

<p><em>Note:</em> If <code>apache::mod::passenger</code> is loaded and
<code>PassengerHighPerformance =&gt; true</code> is set, then Alias may
have issues honoring the <code>PassengerEnabled =&gt; off</code> statement.
See <a
href="http://www.conandalton.net/2010/06/passengerenabled-off-not-working.html">this
article</a> for details.</p>

<h5 id="label-block"><code>block</code><span><a href="#label-block">&para;</a> <a href="#documentation">&uarr;</a></span></h5>

<p>Specifies the list of things Apache will block access to. The default is an
empty set, &#39;[]&#39;. Currently, the only option is &#39;scm&#39;, which
blocks web access to .svn, .git and .bzr directories.</p>

<h5 id="label-custom_fragment"><code>custom_fragment</code><span><a href="#label-custom_fragment">&para;</a> <a href="#documentation">&uarr;</a></span></h5>

<p>Passes a string of custom configuration directives to be placed at the end
of the vhost configuration. Defaults to &#39;undef&#39;.</p>

<h5 id="label-default_vhost"><code>default_vhost</code><span><a href="#label-default_vhost">&para;</a> <a href="#documentation">&uarr;</a></span></h5>

<p>Sets a given <code>apache::vhost</code> as the default to serve requests
that do not match any other <code>apache::vhost</code> definitions. The
default value is &#39;false&#39;.</p>

<h5 id="label-directories"><code>directories</code><span><a href="#label-directories">&para;</a> <a href="#documentation">&uarr;</a></span></h5>

<p>See the <a href="#parameter-directories-for-apachevhost">directories
section</a>.</p>

<h5 id="label-directoryindex"><code>directoryindex</code><span><a href="#label-directoryindex">&para;</a> <a href="#documentation">&uarr;</a></span></h5>

<p>Sets the list of resources to look for when a client requests an index of
the directory by specifying a &#39;/&#39; at the end of the directory name.
<a
href="http://httpd.apache.org/docs/current/mod/mod_dir.html#directoryindex">DirectoryIndex</a>
has more information. Defaults to &#39;undef&#39;.</p>

<h5 id="label-docroot"><code>docroot</code><span><a href="#label-docroot">&para;</a> <a href="#documentation">&uarr;</a></span></h5>

<p>Provides the <a
href="http://httpd.apache.org/docs/current/mod/core.html#documentroot">DocumentRoot</a>
directive, which identifies the directory Apache serves files from.
Required.</p>

<h5 id="label-docroot_group"><code>docroot_group</code><span><a href="#label-docroot_group">&para;</a> <a href="#documentation">&uarr;</a></span></h5>

<p>Sets group access to the docroot directory. Defaults to &#39;root&#39;.</p>

<h5 id="label-docroot_owner"><code>docroot_owner</code><span><a href="#label-docroot_owner">&para;</a> <a href="#documentation">&uarr;</a></span></h5>

<p>Sets individual user access to the docroot directory. Defaults to
&#39;root&#39;.</p>

<h5 id="label-docroot_mode"><code>docroot_mode</code><span><a href="#label-docroot_mode">&para;</a> <a href="#documentation">&uarr;</a></span></h5>

<p>Sets access permissions of the docroot directory. Defaults to
&#39;undef&#39;.</p>

<h5 id="label-error_log"><code>error_log</code><span><a href="#label-error_log">&para;</a> <a href="#documentation">&uarr;</a></span></h5>

<p>Specifies whether <code>*_error.log</code> directives should be configured.
Defaults to &#39;true&#39;.</p>

<h5 id="label-error_log_file"><code>error_log_file</code><span><a href="#label-error_log_file">&para;</a> <a href="#documentation">&uarr;</a></span></h5>

<p>Points to the <code>*_error.log</code> file. Given a vhost, example.com, it
defaults to &#39;example.com_ssl_error.log&#39; for SSL vhosts and
&#39;example.com_access_error.log&#39; for non-SSL vhosts.</p>

<h5 id="label-error_log_pipe"><code>error_log_pipe</code><span><a href="#label-error_log_pipe">&para;</a> <a href="#documentation">&uarr;</a></span></h5>

<p>Specifies a pipe to send error log messages to. Defaults to
&#39;undef&#39;.</p>

<h5 id="label-error_log_syslog"><code>error_log_syslog</code><span><a href="#label-error_log_syslog">&para;</a> <a href="#documentation">&uarr;</a></span></h5>

<p>Sends all error log messages to syslog. Defaults to &#39;undef&#39;.</p>

<h5 id="label-error_documents"><code>error_documents</code><span><a href="#label-error_documents">&para;</a> <a href="#documentation">&uarr;</a></span></h5>

<p>A list of hashes which can be used to override the <a
href="https://httpd.apache.org/docs/current/mod/core.html#errordocument">ErrorDocument</a>
settings for this vhost. Defaults to &#39;[]&#39;. Example:</p>

<pre class="ruby"><span class="ruby-identifier">apache</span><span class="ruby-operator">::</span><span class="ruby-identifier">vhost</span> { <span class="ruby-string">&#39;sample.example.net&#39;</span><span class="ruby-operator">:</span>
      <span class="ruby-identifier">error_documents</span> =<span class="ruby-operator">&gt;</span> [
        { <span class="ruby-string">&#39;error_code&#39;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;503&#39;</span>, <span class="ruby-string">&#39;document&#39;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;/service-unavail&#39;</span> },
        { <span class="ruby-string">&#39;error_code&#39;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;407&#39;</span>, <span class="ruby-string">&#39;document&#39;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;https://example.com/proxy/login&#39;</span> },
      ],
    }
</pre>

<h5 id="label-ensure"><code>ensure</code><span><a href="#label-ensure">&para;</a> <a href="#documentation">&uarr;</a></span></h5>

<p>Specifies if the vhost file is present or absent. Defaults to
&#39;present&#39;.</p>

<h5 id="label-fallbackresource"><code>fallbackresource</code><span><a href="#label-fallbackresource">&para;</a> <a href="#documentation">&uarr;</a></span></h5>

<p>Sets the <a
href="http://httpd.apache.org/docs/current/mod/mod_dir.html#fallbackresource">FallbackResource</a>
directive, which specifies an action to take for any URL that doesn&#39;t
map to anything in your filesystem and would otherwise return &#39;HTTP 404
(Not Found)&#39;. Valid values must either begin with a / or be
&#39;disabled&#39;. Defaults to &#39;undef&#39;.</p>

<h5 id="label-headers"><code>headers</code><span><a href="#label-headers">&para;</a> <a href="#documentation">&uarr;</a></span></h5>

<p>Adds lines to replace, merge, or remove response headers. See <a
href="http://httpd.apache.org/docs/current/mod/mod_headers.html#header">Header</a>
for more information. Can be an array. Defaults to &#39;undef&#39;.</p>

<h5 id="label-ip"><code>ip</code><span><a href="#label-ip">&para;</a> <a href="#documentation">&uarr;</a></span></h5>

<p>Sets the IP address the vhost listens on. Defaults to listen on all IPs.</p>

<h5 id="label-ip_based"><code>ip_based</code><span><a href="#label-ip_based">&para;</a> <a href="#documentation">&uarr;</a></span></h5>

<p>Enables an <a
href="http://httpd.apache.org/docs/current/vhosts/ip-based.html">IP-based</a>
vhost. This parameter inhibits the creation of a NameVirtualHost directive,
since those are used to funnel requests to name-based vhosts. Defaults to
&#39;false&#39;.</p>

<h5 id="label-itk"><code>itk</code><span><a href="#label-itk">&para;</a> <a href="#documentation">&uarr;</a></span></h5>

<p>Configures <a href="http://mpm-itk.sesse.net/">ITK</a> in a hash. Keys may
be:</p>
<ul><li>
<p>user + group</p>
</li><li>
<p><code>assignuseridexpr</code></p>
</li><li>
<p><code>assigngroupidexpr</code></p>
</li><li>
<p><code>maxclientvhost</code></p>
</li><li>
<p><code>nice</code></p>
</li><li>
<p><code>limituidrange</code> (Linux 3.5.0 or newer)</p>
</li><li>
<p><code>limitgidrange</code> (Linux 3.5.0 or newer)</p>
</li></ul>

<p>Usage will typically look like:</p>

<pre class="ruby"><span class="ruby-identifier">apache</span><span class="ruby-operator">::</span><span class="ruby-identifier">vhost</span> { <span class="ruby-string">&#39;sample.example.net&#39;</span><span class="ruby-operator">:</span>
      <span class="ruby-identifier">docroot</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;/path/to/directory&#39;</span>,
      <span class="ruby-identifier">itk</span>     =<span class="ruby-operator">&gt;</span> {
        <span class="ruby-identifier">user</span>  =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;someuser&#39;</span>,
        <span class="ruby-identifier">group</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;somegroup&#39;</span>,
      },
    }
</pre>

<h5 id="label-logroot"><code>logroot</code><span><a href="#label-logroot">&para;</a> <a href="#documentation">&uarr;</a></span></h5>

<p>Specifies the location of the virtual host&#39;s logfiles. Defaults to
&#39;/var/log/&lt;apache log location&gt;/&#39;.</p>

<h5 id="label-log_level"><code>log_level</code><span><a href="#label-log_level">&para;</a> <a href="#documentation">&uarr;</a></span></h5>

<p>Specifies the verbosity of the error log. Defaults to &#39;warn&#39; for
the global server configuration and can be overridden on a per-vhost basis.
Valid values are &#39;emerg&#39;, &#39;alert&#39;, &#39;crit&#39;,
&#39;error&#39;, &#39;warn&#39;, &#39;notice&#39;, &#39;info&#39; or
&#39;debug&#39;.</p>

<h5 id="label-no_proxy_uris"><code>no_proxy_uris</code><span><a href="#label-no_proxy_uris">&para;</a> <a href="#documentation">&uarr;</a></span></h5>

<p>Specifies URLs you do not want to proxy. This parameter is meant to be used
in combination with <a href="#proxy_dest">proxy_dest</a>.</p>

<h5 id="label-options"><code>options</code><span><a href="#label-options">&para;</a> <a href="#documentation">&uarr;</a></span></h5>

<p>Sets the <a
href="http://httpd.apache.org/docs/current/mod/core.html#options">Options</a>
for the specified virtual host. Defaults to
&#39;[&#39;Indexes&#39;,&#39;FollowSymLinks&#39;,&#39;MultiViews&#39;]&#39;,
as demonstrated below:</p>

<pre class="ruby"><span class="ruby-identifier">apache</span><span class="ruby-operator">::</span><span class="ruby-identifier">vhost</span> { <span class="ruby-string">&#39;site.name.fdqn&#39;</span><span class="ruby-operator">:</span>
      <span class="ruby-identifier"></span>
      <span class="ruby-identifier">options</span> =<span class="ruby-operator">&gt;</span> [<span class="ruby-string">&#39;Indexes&#39;</span>,<span class="ruby-string">&#39;FollowSymLinks&#39;</span>,<span class="ruby-string">&#39;MultiViews&#39;</span>],
    }
</pre>

<p><em>Note:</em> If you use <a
href="#parameter-directories-for-apachevhost">directories</a>,
&#39;Options&#39;, &#39;Override&#39;, and &#39;DirectoryIndex&#39; are
ignored because they are parameters within <code>directories</code>.</p>

<h5 id="label-override"><code>override</code><span><a href="#label-override">&para;</a> <a href="#documentation">&uarr;</a></span></h5>

<p>Sets the overrides for the specified virtual host. Accepts an array of <a
href="http://httpd.apache.org/docs/current/mod/core.html#allowoverride">AllowOverride</a>
arguments. Defaults to &#39;[none]&#39;.</p>

<h5 id="label-php_admin_flags+%26+values"><code>php_admin_flags &amp; values</code><span><a href="#label-php_admin_flags+%26+values">&para;</a> <a href="#documentation">&uarr;</a></span></h5>

<p>Allows per-vhost setting <a
href="http://php.net/manual/en/configuration.changes.php">php_admin_values
or php_admin_flags</a>. These flags or values cannot be overwritten by a
user or an application. Defaults to &#39;[]&#39;.</p>

<h5 id="label-port"><code>port</code><span><a href="#label-port">&para;</a> <a href="#documentation">&uarr;</a></span></h5>

<p>Sets the port the host is configured on. The module&#39;s defaults ensure
the host listens on port 80 for non-SSL vhosts and port 443 for SSL vhosts.
The host will only listen on the port set in this parameter.</p>

<h5 id="label-priority"><code>priority</code><span><a href="#label-priority">&para;</a> <a href="#documentation">&uarr;</a></span></h5>

<p>Sets the relative load-order for Apache HTTPD VirtualHost configuration
files. Defaults to &#39;25&#39;.</p>

<p>If nothing matches the priority, the first name-based vhost will be used.
Likewise, passing a higher priority will cause the alphabetically first
name-based vhost to be used if no other names match.</p>

<p><em>Note:</em> You should not need to use this parameter. However, if you
do use it, be aware that the <code>default_vhost</code> parameter for
<code>apache::vhost</code> passes a priority of &#39;15&#39;.</p>

<h5 id="label-proxy_dest"><code>proxy_dest</code><span><a href="#label-proxy_dest">&para;</a> <a href="#documentation">&uarr;</a></span></h5>

<p>Specifies the destination address of a <a
href="http://httpd.apache.org/docs/current/mod/mod_proxy.html#proxypass">ProxyPass</a>
configuration. Defaults to &#39;undef&#39;.</p>

<h5 id="label-proxy_pass"><code>proxy_pass</code><span><a href="#label-proxy_pass">&para;</a> <a href="#documentation">&uarr;</a></span></h5>

<p>Specifies an array of <code>path =&gt; URI</code> for a <a
href="http://httpd.apache.org/docs/current/mod/mod_proxy.html#proxypass">ProxyPass</a>
configuration. Defaults to &#39;undef&#39;.</p>

<pre class="ruby"><span class="ruby-identifier">apache</span><span class="ruby-operator">::</span><span class="ruby-identifier">vhost</span> { <span class="ruby-string">&#39;site.name.fdqn&#39;</span><span class="ruby-operator">:</span>
  <span class="ruby-identifier"></span> 
  <span class="ruby-identifier">proxy_pass</span> =<span class="ruby-operator">&gt;</span> [
    { <span class="ruby-string">&#39;path&#39;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;/a&#39;</span>, <span class="ruby-string">&#39;url&#39;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;http://backend-a/&#39;</span> },
    { <span class="ruby-string">&#39;path&#39;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;/b&#39;</span>, <span class="ruby-string">&#39;url&#39;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;http://backend-b/&#39;</span> },
    { <span class="ruby-string">&#39;path&#39;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;/c&#39;</span>, <span class="ruby-string">&#39;url&#39;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;http://backend-a/c&#39;</span> },
  ],
}
</pre>

<h5 id="label-rack_base_uris"><code>rack_base_uris</code><span><a href="#label-rack_base_uris">&para;</a> <a href="#documentation">&uarr;</a></span></h5>

<p>Specifies the resource identifiers for a rack configuration. The file paths
specified will be listed as rack application roots for <a
href="http://www.modrails.com/documentation/Users%20guide%20Apache.html#_railsbaseuri_and_rackbaseuri">Phusion
Passenger</a> in the _rack.erb template. Defaults to &#39;undef&#39;.</p>

<h5 id="label-redirect_dest"><code>redirect_dest</code><span><a href="#label-redirect_dest">&para;</a> <a href="#documentation">&uarr;</a></span></h5>

<p>Specifies the address to redirect to. Defaults to &#39;undef&#39;.</p>

<h5 id="label-redirect_source"><code>redirect_source</code><span><a href="#label-redirect_source">&para;</a> <a href="#documentation">&uarr;</a></span></h5>

<p>Specifies the source URIs that will redirect to the destination specified
in <code>redirect_dest</code>. If more than one item for redirect is
supplied, the source and destination must be the same length and the items
will be order-dependent.</p>

<pre class="ruby"><span class="ruby-identifier">apache</span><span class="ruby-operator">::</span><span class="ruby-identifier">vhost</span> { <span class="ruby-string">&#39;site.name.fdqn&#39;</span><span class="ruby-operator">:</span>
      <span class="ruby-identifier"></span>
      <span class="ruby-identifier">redirect_source</span> =<span class="ruby-operator">&gt;</span> [<span class="ruby-string">&#39;/images&#39;</span>,<span class="ruby-string">&#39;/downloads&#39;</span>],
      <span class="ruby-identifier">redirect_dest</span>   =<span class="ruby-operator">&gt;</span> [<span class="ruby-string">&#39;http://img.example.com/&#39;</span>,<span class="ruby-string">&#39;http://downloads.example.com/&#39;</span>],
    }
</pre>

<h5 id="label-redirect_status"><code>redirect_status</code><span><a href="#label-redirect_status">&para;</a> <a href="#documentation">&uarr;</a></span></h5>

<p>Specifies the status to append to the redirect. Defaults to
&#39;undef&#39;.</p>

<pre class="ruby"><span class="ruby-identifier">apache</span><span class="ruby-operator">::</span><span class="ruby-identifier">vhost</span> { <span class="ruby-string">&#39;site.name.fdqn&#39;</span><span class="ruby-operator">:</span>
      <span class="ruby-identifier"></span>
      <span class="ruby-identifier">redirect_status</span> =<span class="ruby-operator">&gt;</span> [<span class="ruby-string">&#39;temp&#39;</span>,<span class="ruby-string">&#39;permanent&#39;</span>],
    }
</pre>

<h5 id="label-redirectmatch_regexp+%26+redirectmatch_status"><code>redirectmatch_regexp</code> &amp; <code>redirectmatch_status</code><span><a href="#label-redirectmatch_regexp+%26+redirectmatch_status">&para;</a> <a href="#documentation">&uarr;</a></span></h5>

<p>Determines which server status should be raised for a given regular
expression. Entered as an array. Defaults to &#39;undef&#39;.</p>

<pre class="ruby"><span class="ruby-identifier">apache</span><span class="ruby-operator">::</span><span class="ruby-identifier">vhost</span> { <span class="ruby-string">&#39;site.name.fdqn&#39;</span><span class="ruby-operator">:</span>
      <span class="ruby-identifier"></span>
      <span class="ruby-identifier">redirectmatch_status</span> =<span class="ruby-operator">&gt;</span> [<span class="ruby-string">&#39;404&#39;</span>,<span class="ruby-string">&#39;404&#39;</span>],
      <span class="ruby-identifier">redirectmatch_regexp</span> =<span class="ruby-operator">&gt;</span> [<span class="ruby-string">&#39;\.git(/.*|$)/&#39;</span>,<span class="ruby-string">&#39;\.svn(/.*|$)&#39;</span>],
    }
</pre>

<h5 id="label-request_headers"><code>request_headers</code><span><a href="#label-request_headers">&para;</a> <a href="#documentation">&uarr;</a></span></h5>

<p>Modifies collected <a
href="http://httpd.apache.org/docs/current/mod/mod_headers.html#requestheader">request
headers</a> in various ways, including adding additional request headers,
removing request headers, etc. Defaults to &#39;undef&#39;.</p>

<pre class="ruby"><span class="ruby-identifier">apache</span><span class="ruby-operator">::</span><span class="ruby-identifier">vhost</span> { <span class="ruby-string">&#39;site.name.fdqn&#39;</span><span class="ruby-operator">:</span>
      <span class="ruby-identifier"></span>
      <span class="ruby-identifier">request_headers</span> =<span class="ruby-operator">&gt;</span> [
        <span class="ruby-string">&#39;append MirrorID &quot;mirror 12&quot;&#39;</span>,
        <span class="ruby-string">&#39;unset MirrorID&#39;</span>,
      ],
    }
</pre>

<h5 id="label-rewrites"><code>rewrites</code><span><a href="#label-rewrites">&para;</a> <a href="#documentation">&uarr;</a></span></h5>

<p>Creates URL rewrite rules. Expects an array of hashes, and the hash keys
can be any of &#39;comment&#39;, &#39;rewrite_base&#39;,
&#39;rewrite_cond&#39;, or &#39;rewrite_rule&#39;. Defaults to
&#39;undef&#39;.</p>

<p>For example, you can specify that anyone trying to access index.html will
be served welcome.html</p>

<pre class="ruby"><span class="ruby-identifier">apache</span><span class="ruby-operator">::</span><span class="ruby-identifier">vhost</span> { <span class="ruby-string">&#39;site.name.fdqn&#39;</span><span class="ruby-operator">:</span>
      <span class="ruby-identifier"></span>
      <span class="ruby-identifier">rewrites</span> =<span class="ruby-operator">&gt;</span> [ { <span class="ruby-identifier">rewrite_rule</span> =<span class="ruby-operator">&gt;</span> [<span class="ruby-string">&#39;^index\.html$ welcome.html&#39;</span>] } ]
    }
</pre>

<p>The parameter allows rewrite conditions that, when true, will execute the
associated rule. For instance, if you wanted to rewrite URLs only if the
visitor is using IE</p>

<pre class="ruby"><span class="ruby-identifier">apache</span><span class="ruby-operator">::</span><span class="ruby-identifier">vhost</span> { <span class="ruby-string">&#39;site.name.fdqn&#39;</span><span class="ruby-operator">:</span>
      <span class="ruby-identifier"></span>
      <span class="ruby-identifier">rewrites</span> =<span class="ruby-operator">&gt;</span> [
        {
          <span class="ruby-identifier">comment</span>      =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;redirect IE&#39;</span>,
          <span class="ruby-identifier">rewrite_cond</span> =<span class="ruby-operator">&gt;</span> [<span class="ruby-string">&#39;%{HTTP_USER_AGENT} ^MSIE&#39;</span>],
          <span class="ruby-identifier">rewrite_rule</span> =<span class="ruby-operator">&gt;</span> [<span class="ruby-string">&#39;^index\.html$ welcome.html&#39;</span>],
        },
      ],
    }
</pre>

<p>You can also apply multiple conditions. For instance, rewrite index.html to
welcome.html only when the browser is Lynx or Mozilla (version 1 or 2)</p>

<pre class="ruby"><span class="ruby-identifier">apache</span><span class="ruby-operator">::</span><span class="ruby-identifier">vhost</span> { <span class="ruby-string">&#39;site.name.fdqn&#39;</span><span class="ruby-operator">:</span>
      <span class="ruby-identifier"></span>
      <span class="ruby-identifier">rewrites</span> =<span class="ruby-operator">&gt;</span> [
        {
          <span class="ruby-identifier">comment</span>      =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;Lynx or Mozilla v1/2&#39;</span>,
          <span class="ruby-identifier">rewrite_cond</span> =<span class="ruby-operator">&gt;</span> [<span class="ruby-string">&#39;%{HTTP_USER_AGENT} ^Lynx/ [OR]&#39;</span>, <span class="ruby-string">&#39;%{HTTP_USER_AGENT} ^Mozilla/[12]&#39;</span>],
          <span class="ruby-identifier">rewrite_rule</span> =<span class="ruby-operator">&gt;</span> [<span class="ruby-string">&#39;^index\.html$ welcome.html&#39;</span>],
        },
      ],
    }
</pre>

<p>Multiple rewrites and conditions are also possible</p>

<pre class="ruby"><span class="ruby-identifier">apache</span><span class="ruby-operator">::</span><span class="ruby-identifier">vhost</span> { <span class="ruby-string">&#39;site.name.fdqn&#39;</span><span class="ruby-operator">:</span>
      <span class="ruby-identifier"></span>
      <span class="ruby-identifier">rewrites</span> =<span class="ruby-operator">&gt;</span> [
        {
          <span class="ruby-identifier">comment</span>      =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;Lynx or Mozilla v1/2&#39;</span>,
          <span class="ruby-identifier">rewrite_cond</span> =<span class="ruby-operator">&gt;</span> [<span class="ruby-string">&#39;%{HTTP_USER_AGENT} ^Lynx/ [OR]&#39;</span>, <span class="ruby-string">&#39;%{HTTP_USER_AGENT} ^Mozilla/[12]&#39;</span>],
          <span class="ruby-identifier">rewrite_rule</span> =<span class="ruby-operator">&gt;</span> [<span class="ruby-string">&#39;^index\.html$ welcome.html&#39;</span>],
        },
        {
          <span class="ruby-identifier">comment</span>      =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;Internet Explorer&#39;</span>,
          <span class="ruby-identifier">rewrite_cond</span> =<span class="ruby-operator">&gt;</span> [<span class="ruby-string">&#39;%{HTTP_USER_AGENT} ^MSIE&#39;</span>],
          <span class="ruby-identifier">rewrite_rule</span> =<span class="ruby-operator">&gt;</span> [<span class="ruby-string">&#39;^index\.html$ /index.IE.html [L]&#39;</span>],
        },
        {
          <span class="ruby-identifier">rewrite_base</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-regexp">/apps/</span>,
          <span class="ruby-identifier">rewrite_rule</span> =<span class="ruby-operator">&gt;</span> [<span class="ruby-string">&#39;^index\.cgi$ index.php&#39;</span>, <span class="ruby-string">&#39;^index\.html$ index.php&#39;</span>, <span class="ruby-string">&#39;^index\.asp$ index.html&#39;</span>],
        },
     ], 
    }
</pre>

<p>Refer to the <a
href="http://httpd.apache.org/docs/current/mod/mod_rewrite.html">mod_rewrite
documentation</a> for more details on what is possible with rewrite rules
and conditions.</p>

<h5 id="label-scriptalias"><code>scriptalias</code><span><a href="#label-scriptalias">&para;</a> <a href="#documentation">&uarr;</a></span></h5>

<p>Defines a directory of CGI scripts to be aliased to the path
&#39;/cgi-bin&#39;, for example: &#39;/usr/scripts&#39;. Defaults to
&#39;undef&#39;.</p>

<h5 id="label-scriptaliases"><code>scriptaliases</code><span><a href="#label-scriptaliases">&para;</a> <a href="#documentation">&uarr;</a></span></h5>

<p>Passes an array of hashes to the vhost to create either ScriptAlias or
ScriptAliasMatch statements as per the <a
href="http://httpd.apache.org/docs/current/mod/mod_alias.html">mod_alias
documentation</a>. These hashes are formatted as follows:</p>

<pre class="ruby"><span class="ruby-identifier">scriptaliases</span> =<span class="ruby-operator">&gt;</span> [
      {
        <span class="ruby-keyword">alias</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;/myscript&#39;</span>,
        <span class="ruby-identifier">path</span>  =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;/usr/share/myscript&#39;</span>,
      },
      {
        <span class="ruby-identifier">aliasmatch</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;^/foo(.*)&#39;</span>,
        <span class="ruby-identifier">path</span>       =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;/usr/share/fooscripts$1&#39;</span>,
      },
      {
        <span class="ruby-identifier">aliasmatch</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;^/bar/(.*)&#39;</span>,
        <span class="ruby-identifier">path</span>       =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;/usr/share/bar/wrapper.sh/$1&#39;</span>,
      },
      {
        <span class="ruby-keyword">alias</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;/neatscript&#39;</span>,
        <span class="ruby-identifier">path</span>  =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;/usr/share/neatscript&#39;</span>,
      },
    ]
</pre>

<p>The ScriptAlias and ScriptAliasMatch directives are created in the order
specified. As with <a href="#aliases">Alias and AliasMatch</a> directives,
more specific aliases should come before more general ones to avoid
shadowing.</p>

<h5 id="label-serveradmin"><code>serveradmin</code><span><a href="#label-serveradmin">&para;</a> <a href="#documentation">&uarr;</a></span></h5>

<p>Specifies the email address Apache will display when it renders one of its
error pages. Defaults to &#39;undef&#39;.</p>

<h5 id="label-serveraliases"><code>serveraliases</code><span><a href="#label-serveraliases">&para;</a> <a href="#documentation">&uarr;</a></span></h5>

<p>Sets the <a
href="http://httpd.apache.org/docs/current/mod/core.html#serveralias">ServerAliases</a>
of the site. Defaults to &#39;[]&#39;.</p>

<h5 id="label-servername"><code>servername</code><span><a href="#label-servername">&para;</a> <a href="#documentation">&uarr;</a></span></h5>

<p>Sets the servername corresponding to the hostname you connect to the
virtual host at. Defaults to the title of the resource.</p>

<h5 id="label-setenv"><code>setenv</code><span><a href="#label-setenv">&para;</a> <a href="#documentation">&uarr;</a></span></h5>

<p>Used by HTTPD to set environment variables for vhosts. Defaults to
&#39;[]&#39;.</p>

<h5 id="label-setenvif"><code>setenvif</code><span><a href="#label-setenvif">&para;</a> <a href="#documentation">&uarr;</a></span></h5>

<p>Used by HTTPD to conditionally set environment variables for vhosts.
Defaults to &#39;[]&#39;.</p>

<h5 id="label-suphp_addhandler%2C+suphp_configpath%2C+%26+suphp_engine"><code>suphp_addhandler</code>, <code>suphp_configpath</code>, &amp; <code>suphp_engine</code><span><a href="#label-suphp_addhandler%2C+suphp_configpath%2C+%26+suphp_engine">&para;</a> <a href="#documentation">&uarr;</a></span></h5>

<p>Set up a virtual host with <a
href="http://suphp.org/DocumentationView.html?file=apache/CONFIG">suPHP</a>.</p>

<p><code>suphp_addhandler</code> defaults to &#39;php5-script&#39; on RedHat
and FreeBSD, and &#39;x-httpd-php&#39; on Debian.</p>

<p><code>suphp_configpath</code> defaults to &#39;undef&#39; on RedHat and
FreeBSD, and &#39;/etc/php5/apache2&#39; on Debian.</p>

<p><code>suphp_engine</code> allows values &#39;on&#39; or &#39;off&#39;.
Defaults to &#39;off&#39;</p>

<p>To set up a virtual host with suPHP</p>

<pre class="ruby"><span class="ruby-identifier">apache</span><span class="ruby-operator">::</span><span class="ruby-identifier">vhost</span> { <span class="ruby-string">&#39;suphp.example.com&#39;</span><span class="ruby-operator">:</span>
      <span class="ruby-identifier">port</span>                =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;80&#39;</span>,
      <span class="ruby-identifier">docroot</span>             =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;/home/appuser/myphpapp&#39;</span>,
      <span class="ruby-identifier">suphp_addhandler</span>    =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;x-httpd-php&#39;</span>,
      <span class="ruby-identifier">suphp_engine</span>        =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;on&#39;</span>,
      <span class="ruby-identifier">suphp_configpath</span>    =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;/etc/php5/apache2&#39;</span>,
      <span class="ruby-identifier">directories</span>         =<span class="ruby-operator">&gt;</span> { <span class="ruby-identifier">path</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;/home/appuser/myphpapp&#39;</span>,
        <span class="ruby-string">&#39;suphp&#39;</span>           =<span class="ruby-operator">&gt;</span> { <span class="ruby-identifier">user</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;myappuser&#39;</span>, <span class="ruby-identifier">group</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;myappgroup&#39;</span> },
      }
    }
</pre>

<h5 id="label-vhost_name"><code>vhost_name</code><span><a href="#label-vhost_name">&para;</a> <a href="#documentation">&uarr;</a></span></h5>

<p>Enables name-based virtual hosting. If no IP is passed to the virtual host
but the vhost is assigned a port, then the vhost name will be
&#39;vhost_name:port&#39;. If the virtual host has no assigned IP or port,
the vhost name will be set to the title of the resource. Defaults to
&#39;*&#39;.</p>

<h5 id="label-virtual_docroot"><code>virtual_docroot</code><span><a href="#label-virtual_docroot">&para;</a> <a href="#documentation">&uarr;</a></span></h5>

<p>Sets up a virtual host with a wildcard alias subdomain mapped to a
directory with the same name. For example, &#39;<a
href="http://example.com">example.com</a>&#39; would map to
&#39;/var/www/example.com&#39;. Defaults to &#39;false&#39;.</p>

<pre class="ruby"><span class="ruby-identifier">apache</span><span class="ruby-operator">::</span><span class="ruby-identifier">vhost</span> { <span class="ruby-string">&#39;subdomain.loc&#39;</span><span class="ruby-operator">:</span>
      <span class="ruby-identifier">vhost_name</span>       =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;*&#39;</span>,
      <span class="ruby-identifier">port</span>             =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;80&#39;</span>,
      <span class="ruby-identifier">virtual_docroot</span><span class="ruby-string">&#39; =&gt; &#39;</span><span class="ruby-operator">/</span><span class="ruby-identifier">var</span><span class="ruby-operator">/</span><span class="ruby-identifier">www</span><span class="ruby-operator">/</span><span class="ruby-string">%Q2+&#39;,
      docroot          =&gt; &#39;/var/www&#39;,
      serveraliases    =&gt; [&#39;*.loc&#39;,],
    }
</span></pre>

<h5 id="label-wsgi_daemon_process%2C+wsgi_daemon_process_options%2C+wsgi_process_group%2C+%26+wsgi_script_aliases"><code>wsgi_daemon_process</code>, <code>wsgi_daemon_process_options</code>, <code>wsgi_process_group</code>, &amp; <code>wsgi_script_aliases</code><span><a href="#label-wsgi_daemon_process%2C+wsgi_daemon_process_options%2C+wsgi_process_group%2C+%26+wsgi_script_aliases">&para;</a> <a href="#documentation">&uarr;</a></span></h5>

<p>Set up a virtual host with <a
href="https://code.google.com/p/modwsgi/">WSGI</a>.</p>

<p><code>wsgi_daemon_process</code> sets the name of the WSGI daemon. It is a
hash, accepting <a
href="http://modwsgi.readthedocs.org/en/latest/configuration-directives/WSGIDaemonProcess.html">these
keys</a>, and it defaults to &#39;undef&#39;.</p>

<p><code>wsgi_daemon_process_options</code> is optional and defaults to
&#39;undef&#39;.</p>

<p><code>wsgi_process_group</code> sets the group ID the virtual host will run
under. Defaults to &#39;undef&#39;.</p>

<p><code>wsgi_script_aliases</code> requires a hash of web paths to filesystem
.wsgi paths. Defaults to &#39;undef&#39;.</p>

<p>To set up a virtual host with WSGI</p>

<pre class="ruby"><span class="ruby-identifier">apache</span><span class="ruby-operator">::</span><span class="ruby-identifier">vhost</span> { <span class="ruby-string">&#39;wsgi.example.com&#39;</span><span class="ruby-operator">:</span>
      <span class="ruby-identifier">port</span>                        =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;80&#39;</span>,
      <span class="ruby-identifier">docroot</span>                     =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;/var/www/pythonapp&#39;</span>,
      <span class="ruby-identifier">wsgi_daemon_process</span>         =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;wsgi&#39;</span>,
      <span class="ruby-identifier">wsgi_daemon_process_options</span> =<span class="ruby-operator">&gt;</span>
        { <span class="ruby-identifier">processes</span>    =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;2&#39;</span>, 
          <span class="ruby-identifier">threads</span>      =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;15&#39;</span>, 
          <span class="ruby-identifier">display</span><span class="ruby-operator">-</span><span class="ruby-identifier">name</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;%{GROUP}&#39;</span>,
         },
      <span class="ruby-identifier">wsgi_process_group</span>          =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;wsgi&#39;</span>,
      <span class="ruby-identifier">wsgi_script_aliases</span>         =<span class="ruby-operator">&gt;</span> { <span class="ruby-string">&#39;/&#39;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;/var/www/demo.wsgi&#39;</span> },
    }
</pre>

<h4 id="label-Parameter+directories+for+apache%3A%3Avhost">Parameter <code>directories</code> for <code>apache::vhost</code><span><a href="#label-Parameter+directories+for+apache%3A%3Avhost">&para;</a> <a href="#documentation">&uarr;</a></span></h4>

<p>The <code>directories</code> parameter within the
<code>apache::vhost</code> class passes an array of hashes to the vhost to
create <a
href="http://httpd.apache.org/docs/current/mod/core.html#directory">Directory</a>,
<a
href="http://httpd.apache.org/docs/current/mod/core.html#files">File</a>,
and <a
href="http://httpd.apache.org/docs/current/mod/core.html#location">Location</a>
directive blocks. These blocks take the form, &#39;&lt; Directory
/path/to/directory&gt;&lt; /Directory&gt;&#39;.</p>

<p>Each hash passed to <code>directories</code> must contain <code>path</code>
as one of the keys. You may also pass in <code>provider</code> which, if
missing, defaults to &#39;directory&#39;. (A full list of acceptable keys
is below.) General usage will look something like</p>

<pre class="ruby"><span class="ruby-identifier">apache</span><span class="ruby-operator">::</span><span class="ruby-identifier">vhost</span> { <span class="ruby-string">&#39;sample.example.net&#39;</span><span class="ruby-operator">:</span>
      <span class="ruby-identifier">docroot</span>     =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;/path/to/directory&#39;</span>,
      <span class="ruby-identifier">directories</span> =<span class="ruby-operator">&gt;</span> [
        { <span class="ruby-identifier">path</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;/path/to/directory&#39;</span>, <span class="ruby-operator">&lt;</span><span class="ruby-identifier">key</span><span class="ruby-operator">&gt;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-operator">&lt;</span><span class="ruby-identifier">value</span><span class="ruby-operator">&gt;</span> },
        { <span class="ruby-identifier">path</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;/path/to/another/directory&#39;</span>, <span class="ruby-operator">&lt;</span><span class="ruby-identifier">key</span><span class="ruby-operator">&gt;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-operator">&lt;</span><span class="ruby-identifier">value</span><span class="ruby-operator">&gt;</span> },
      ],
    }
</pre>

<p><em>Note:</em> At least one directory should match the <code>docroot</code>
parameter. Once you start declaring directories, <code>apache::vhost</code>
assumes that all required Directory blocks will be declared. If not
defined, a single default Directory block will be created that matches the
<code>docroot</code> parameter.</p>

<p>The <code>provider</code> key can be set to &#39;directory&#39;,
&#39;files&#39;, or &#39;location&#39;. If the path starts with a <a
href="https://httpd.apache.org/docs/current/mod/core.html#files">~</a>,
HTTPD will interpret this as the equivalent of DirectoryMatch, FilesMatch,
or LocationMatch.</p>

<pre class="ruby"><span class="ruby-identifier">apache</span><span class="ruby-operator">::</span><span class="ruby-identifier">vhost</span> { <span class="ruby-string">&#39;files.example.net&#39;</span><span class="ruby-operator">:</span>
      <span class="ruby-identifier">docroot</span>     =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;/var/www/files&#39;</span>,
      <span class="ruby-identifier">directories</span> =<span class="ruby-operator">&gt;</span> [
        { <span class="ruby-string">&#39;path&#39;</span>     =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;/var/www/files&#39;</span>, 
          <span class="ruby-string">&#39;provider&#39;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;files&#39;</span>, 
          <span class="ruby-string">&#39;deny&#39;</span>     =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;from all&#39;</span> 
         },
      ],
    }
</pre>

<p>Available handlers, represented as keys, should be placed within the
<code>directory</code>,<code>&#39;files</code>, or <code>location</code>
hashes. This looks like</p>

<pre class="ruby"><span class="ruby-identifier">apache</span><span class="ruby-operator">::</span><span class="ruby-identifier">vhost</span> { <span class="ruby-string">&#39;sample.example.net&#39;</span><span class="ruby-operator">:</span>
      <span class="ruby-identifier">docroot</span>     =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;/path/to/directory&#39;</span>,
      <span class="ruby-identifier">directories</span> =<span class="ruby-operator">&gt;</span> [ { <span class="ruby-identifier">path</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;/path/to/directory&#39;</span>, <span class="ruby-identifier">handler</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">value</span> } ],
}
</pre>

<p>Any handlers you do not set in these hashes will be considered
&#39;undefined&#39; within Puppet and will not be added to the virtual
host, resulting in the module using their default values. Currently this is
the list of supported handlers:</p>

<h6 id="label-addhandlers"><code>addhandlers</code><span><a href="#label-addhandlers">&para;</a> <a href="#documentation">&uarr;</a></span></h6>

<p>Sets <a
href="http://httpd.apache.org/docs/current/mod/mod_mime.html#addhandler">AddHandler</a>
directives, which map filename extensions to the specified handler. Accepts
a list of hashes, with <code>extensions</code> serving to list the
extensions being managed by the handler, and takes the form: <code>{
handler =&gt; &#39;handler-name&#39;, extensions =&gt;
[&#39;extension&#39;]}</code>.</p>

<pre class="ruby"><span class="ruby-identifier">apache</span><span class="ruby-operator">::</span><span class="ruby-identifier">vhost</span> { <span class="ruby-string">&#39;sample.example.net&#39;</span><span class="ruby-operator">:</span>
      <span class="ruby-identifier">docroot</span>     =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;/path/to/directory&#39;</span>,
      <span class="ruby-identifier">directories</span> =<span class="ruby-operator">&gt;</span> [ 
        { <span class="ruby-identifier">path</span>        =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;/path/to/directory&#39;</span>,
          <span class="ruby-identifier">addhandlers</span> =<span class="ruby-operator">&gt;</span> [{ <span class="ruby-identifier">handler</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;cgi-script&#39;</span>, <span class="ruby-identifier">extensions</span> =<span class="ruby-operator">&gt;</span> [<span class="ruby-string">&#39;.cgi&#39;</span>]}],
        }, 
      ],
    }
</pre>

<h6 id="label-allow"><code>allow</code><span><a href="#label-allow">&para;</a> <a href="#documentation">&uarr;</a></span></h6>

<p>Sets an <a
href="http://httpd.apache.org/docs/2.2/mod/mod_authz_host.html#allow">Allow</a>
directive, which groups authorizations based on hostnames or IPs.
<strong>Deprecated:</strong> This parameter is being deprecated due to a
change in Apache. It will only work with Apache 2.2 and lower.</p>

<pre class="ruby"><span class="ruby-identifier">apache</span><span class="ruby-operator">::</span><span class="ruby-identifier">vhost</span> { <span class="ruby-string">&#39;sample.example.net&#39;</span><span class="ruby-operator">:</span>
      <span class="ruby-identifier">docroot</span>     =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;/path/to/directory&#39;</span>,
      <span class="ruby-identifier">directories</span> =<span class="ruby-operator">&gt;</span> [ 
        { <span class="ruby-identifier">path</span>  =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;/path/to/directory&#39;</span>, 
          <span class="ruby-identifier">allow</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;from example.org&#39;</span>, 
        }, 
      ],
    }
</pre>

<h6 id="label-allow_override"><code>allow_override</code><span><a href="#label-allow_override">&para;</a> <a href="#documentation">&uarr;</a></span></h6>

<p>Sets the types of directives allowed in <a
href="http://httpd.apache.org/docs/current/mod/core.html#allowoverride">.htaccess</a>
files. Accepts an array.</p>

<pre class="ruby"><span class="ruby-identifier">apache</span><span class="ruby-operator">::</span><span class="ruby-identifier">vhost</span> { <span class="ruby-string">&#39;sample.example.net&#39;</span><span class="ruby-operator">:</span>
      <span class="ruby-identifier">docroot</span>      =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;/path/to/directory&#39;</span>,
      <span class="ruby-identifier">directories</span>  =<span class="ruby-operator">&gt;</span> [ 
        { <span class="ruby-identifier">path</span>           =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;/path/to/directory&#39;</span>, 
          <span class="ruby-identifier">allow_override</span> =<span class="ruby-operator">&gt;</span> [<span class="ruby-string">&#39;AuthConfig&#39;</span>, <span class="ruby-string">&#39;Indexes&#39;</span>], 
        }, 
      ],
    }
</pre>

<h6 id="label-auth_basic_authoritative"><code>auth_basic_authoritative</code><span><a href="#label-auth_basic_authoritative">&para;</a> <a href="#documentation">&uarr;</a></span></h6>

<p>Sets the value for <a
href="https://httpd.apache.org/docs/current/mod/mod_auth_basic.html#authbasicauthoritative">AuthBasicAuthoritative</a>,
which determines whether authorization and authentication are passed to
lower level Apache modules.</p>

<h6 id="label-auth_basic_fake"><code>auth_basic_fake</code><span><a href="#label-auth_basic_fake">&para;</a> <a href="#documentation">&uarr;</a></span></h6>

<p>Sets the value for <a
href="http://httpd.apache.org/docs/current/mod/mod_auth_basic.html#authbasicfake">AuthBasicFake</a>,
which statically configures authorization credentials for a given directive
block.</p>

<h6 id="label-auth_basic_provider"><code>auth_basic_provider</code><span><a href="#label-auth_basic_provider">&para;</a> <a href="#documentation">&uarr;</a></span></h6>

<p>Sets the value for <a
href="http://httpd.apache.org/docs/current/mod/mod_auth_basic.html#authbasicprovider">AuthBasicProvider</a>,
which sets the authentication provider for a given location.</p>

<h6 id="label-auth_digest_algorithm"><code>auth_digest_algorithm</code><span><a href="#label-auth_digest_algorithm">&para;</a> <a href="#documentation">&uarr;</a></span></h6>

<p>Sets the value for <a
href="http://httpd.apache.org/docs/current/mod/mod_auth_digest.html#authdigestalgorithm">AuthDigestAlgorithm</a>,
which selects the algorithm used to calculate the challenge and response
hashes.</p>

<h6 id="label-auth_digest_domain"><code>auth_digest_domain</code><span><a href="#label-auth_digest_domain">&para;</a> <a href="#documentation">&uarr;</a></span></h6>

<p>Sets the value for <a
href="http://httpd.apache.org/docs/current/mod/mod_auth_digest.html#authdigestdomain">AuthDigestDomain</a>,
which allows you to specify one or more URIs in the same protection space
for digest authentication.</p>

<h6 id="label-auth_digest_nonce_lifetime"><code>auth_digest_nonce_lifetime</code><span><a href="#label-auth_digest_nonce_lifetime">&para;</a> <a href="#documentation">&uarr;</a></span></h6>

<p>Sets the value for <a
href="http://httpd.apache.org/docs/current/mod/mod_auth_digest.html#authdigestnoncelifetime">AuthDigestNonceLifetime</a>,
which controls how long the server nonce is valid.</p>

<h6 id="label-auth_digest_provider"><code>auth_digest_provider</code><span><a href="#label-auth_digest_provider">&para;</a> <a href="#documentation">&uarr;</a></span></h6>

<p>Sets the value for <a
href="http://httpd.apache.org/docs/current/mod/mod_auth_digest.html#authdigestprovider">AuthDigestProvider</a>,
which sets the authentication provider for a given location.</p>

<h6 id="label-auth_digest_qop"><code>auth_digest_qop</code><span><a href="#label-auth_digest_qop">&para;</a> <a href="#documentation">&uarr;</a></span></h6>

<p>Sets the value for <a
href="http://httpd.apache.org/docs/current/mod/mod_auth_digest.html#authdigestqop">AuthDigestQop</a>,
which determines the quality-of-protection to use in digest authentication.</p>

<h6 id="label-auth_digest_shmem_size"><code>auth_digest_shmem_size</code><span><a href="#label-auth_digest_shmem_size">&para;</a> <a href="#documentation">&uarr;</a></span></h6>

<p>Sets the value for <a
href="http://httpd.apache.org/docs/current/mod/mod_auth_digest.html#authdigestshmemsize">AuthAuthDigestShmemSize</a>,
which defines the amount of shared memory allocated to the server for
keeping track of clients.</p>

<h6 id="label-auth_group_file"><code>auth_group_file</code><span><a href="#label-auth_group_file">&para;</a> <a href="#documentation">&uarr;</a></span></h6>

<p>Sets the value for <a
href="https://httpd.apache.org/docs/current/mod/mod_authz_groupfile.html#authgroupfile">AuthGroupFile</a>,
which sets the name of the text file containing the list of user groups for
authorization.</p>

<h6 id="label-auth_name"><code>auth_name</code><span><a href="#label-auth_name">&para;</a> <a href="#documentation">&uarr;</a></span></h6>

<p>Sets the value for <a
href="http://httpd.apache.org/docs/current/mod/mod_authn_core.html#authname">AuthName</a>,
which sets the name of the authorization realm.</p>

<h6 id="label-auth_require"><code>auth_require</code><span><a href="#label-auth_require">&para;</a> <a href="#documentation">&uarr;</a></span></h6>

<p>Sets the entity name you&#39;re requiring to allow access. Read more about
<a
href="http://httpd.apache.org/docs/current/mod/mod_authz_host.html#requiredirectives">Require</a>.</p>

<h6 id="label-auth_type"><code>auth_type</code><span><a href="#label-auth_type">&para;</a> <a href="#documentation">&uarr;</a></span></h6>

<p>Sets the value for <a
href="http://httpd.apache.org/docs/current/mod/mod_authn_core.html#authtype">AuthType</a>,
which guides the type of user authentication.</p>

<h6 id="label-auth_user_file"><code>auth_user_file</code><span><a href="#label-auth_user_file">&para;</a> <a href="#documentation">&uarr;</a></span></h6>

<p>Sets the value for <a
href="http://httpd.apache.org/docs/current/mod/mod_authn_file.html#authuserfile">AuthUserFile</a>,
which sets the name of the text file containing the users/passwords for
authentication.</p>

<h6 id="label-custom_fragment"><code>custom_fragment</code><span><a href="#label-custom_fragment">&para;</a> <a href="#documentation">&uarr;</a></span></h6>

<p>Pass a string of custom configuration directives to be placed at the end of
the directory configuration.</p>

<pre class="ruby"><span class="ruby-identifier">apache</span><span class="ruby-operator">::</span><span class="ruby-identifier">vhost</span> { <span class="ruby-string">&#39;monitor&#39;</span><span class="ruby-operator">:</span>
    <span class="ruby-identifier"></span> 
    <span class="ruby-identifier">custom_fragment</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;
  &lt;Location /balancer-manager&gt;
    SetHandler balancer-manager
    Order allow,deny
    Allow from all
  &lt;/Location&gt;
  &lt;Location /server-status&gt;
    SetHandler server-status
    Order allow,deny
    Allow from all
  &lt;/Location&gt;
  ProxyStatus On&#39;</span>,
}
</pre>

<h6 id="label-deny"><code>deny</code><span><a href="#label-deny">&para;</a> <a href="#documentation">&uarr;</a></span></h6>

<p>Sets a <a
href="http://httpd.apache.org/docs/2.2/mod/mod_authz_host.html#deny">Deny</a>
directive, specifying which hosts are denied access to the server.
<strong>Deprecated:</strong> This parameter is being deprecated due to a
change in Apache. It will only work with Apache 2.2 and lower.</p>

<pre class="ruby"><span class="ruby-identifier">apache</span><span class="ruby-operator">::</span><span class="ruby-identifier">vhost</span> { <span class="ruby-string">&#39;sample.example.net&#39;</span><span class="ruby-operator">:</span>
      <span class="ruby-identifier">docroot</span>     =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;/path/to/directory&#39;</span>,
      <span class="ruby-identifier">directories</span> =<span class="ruby-operator">&gt;</span> [ 
        { <span class="ruby-identifier">path</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;/path/to/directory&#39;</span>, 
          <span class="ruby-identifier">deny</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;from example.org&#39;</span>, 
        }, 
      ],
    }
</pre>

<h6 id="label-error_documents"><code>error_documents</code><span><a href="#label-error_documents">&para;</a> <a href="#documentation">&uarr;</a></span></h6>

<p>An array of hashes used to override the <a
href="https://httpd.apache.org/docs/current/mod/core.html#errordocument">ErrorDocument</a>
settings for the directory.</p>

<pre class="ruby"><span class="ruby-identifier">apache</span><span class="ruby-operator">::</span><span class="ruby-identifier">vhost</span> { <span class="ruby-string">&#39;sample.example.net&#39;</span><span class="ruby-operator">:</span>
      <span class="ruby-identifier">directories</span> =<span class="ruby-operator">&gt;</span> [ 
        { <span class="ruby-identifier">path</span>            =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;/srv/www&#39;</span>,
          <span class="ruby-identifier">error_documents</span> =<span class="ruby-operator">&gt;</span> [
            { <span class="ruby-string">&#39;error_code&#39;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;503&#39;</span>, 
              <span class="ruby-string">&#39;document&#39;</span>   =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;/service-unavail&#39;</span>,
            },
          ],
        },
      ],
    }
</pre>

<h6 id="label-headers"><code>headers</code><span><a href="#label-headers">&para;</a> <a href="#documentation">&uarr;</a></span></h6>

<p>Adds lines for <a
href="http://httpd.apache.org/docs/current/mod/mod_headers.html#header">Header</a>
directives.</p>

<pre class="ruby"><span class="ruby-identifier">apache</span><span class="ruby-operator">::</span><span class="ruby-identifier">vhost</span> { <span class="ruby-string">&#39;sample.example.net&#39;</span><span class="ruby-operator">:</span>
      <span class="ruby-identifier">docroot</span>     =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;/path/to/directory&#39;</span>,
      <span class="ruby-identifier">directories</span> =<span class="ruby-operator">&gt;</span> {
        <span class="ruby-identifier">path</span>    =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;/path/to/directory&#39;</span>,
        <span class="ruby-identifier">headers</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;Set X-Robots-Tag &quot;noindex, noarchive, nosnippet&quot;&#39;</span>,
      },
    }
</pre>

<h6 id="label-index_options"><code>index_options</code><span><a href="#label-index_options">&para;</a> <a href="#documentation">&uarr;</a></span></h6>

<p>Allows configuration settings for <a
href="http://httpd.apache.org/docs/current/mod/mod_autoindex.html#indexoptions">directory
indexing</a>.</p>

<pre class="ruby"><span class="ruby-identifier">apache</span><span class="ruby-operator">::</span><span class="ruby-identifier">vhost</span> { <span class="ruby-string">&#39;sample.example.net&#39;</span><span class="ruby-operator">:</span>
      <span class="ruby-identifier">docroot</span>     =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;/path/to/directory&#39;</span>,
      <span class="ruby-identifier">directories</span> =<span class="ruby-operator">&gt;</span> [ 
        { <span class="ruby-identifier">path</span>          =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;/path/to/directory&#39;</span>, 
          <span class="ruby-identifier">options</span>       =<span class="ruby-operator">&gt;</span> [<span class="ruby-string">&#39;Indexes&#39;</span>,<span class="ruby-string">&#39;FollowSymLinks&#39;</span>,<span class="ruby-string">&#39;MultiViews&#39;</span>], 
          <span class="ruby-identifier">index_options</span> =<span class="ruby-operator">&gt;</span> [<span class="ruby-string">&#39;IgnoreCase&#39;</span>, <span class="ruby-string">&#39;FancyIndexing&#39;</span>, <span class="ruby-string">&#39;FoldersFirst&#39;</span>, <span class="ruby-string">&#39;NameWidth=*&#39;</span>, <span class="ruby-string">&#39;DescriptionWidth=*&#39;</span>, <span class="ruby-string">&#39;SuppressHTMLPreamble&#39;</span>],
        },
      ],
    }
</pre>

<h6 id="label-index_order_default"><code>index_order_default</code><span><a href="#label-index_order_default">&para;</a> <a href="#documentation">&uarr;</a></span></h6>

<p>Sets the <a
href="http://httpd.apache.org/docs/current/mod/mod_autoindex.html#indexorderdefault">default
ordering</a> of the directory index.</p>

<pre class="ruby"><span class="ruby-identifier">apache</span><span class="ruby-operator">::</span><span class="ruby-identifier">vhost</span> { <span class="ruby-string">&#39;sample.example.net&#39;</span><span class="ruby-operator">:</span>
      <span class="ruby-identifier">docroot</span>     =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;/path/to/directory&#39;</span>,
      <span class="ruby-identifier">directories</span> =<span class="ruby-operator">&gt;</span> [ 
        { <span class="ruby-identifier">path</span>                =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;/path/to/directory&#39;</span>, 
          <span class="ruby-identifier">order</span>               =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;Allow,Deny&#39;</span>, 
          <span class="ruby-identifier">index_order_default</span> =<span class="ruby-operator">&gt;</span> [<span class="ruby-string">&#39;Descending&#39;</span>, <span class="ruby-string">&#39;Date&#39;</span>],
        }, 
      ],
    }
</pre>

<h6 id="label-options"><code>options</code><span><a href="#label-options">&para;</a> <a href="#documentation">&uarr;</a></span></h6>

<p>Lists the <a
href="http://httpd.apache.org/docs/current/mod/core.html#options">Options</a>
for the given Directory block.</p>

<pre class="ruby"><span class="ruby-identifier">apache</span><span class="ruby-operator">::</span><span class="ruby-identifier">vhost</span> { <span class="ruby-string">&#39;sample.example.net&#39;</span><span class="ruby-operator">:</span>
      <span class="ruby-identifier">docroot</span>     =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;/path/to/directory&#39;</span>,
      <span class="ruby-identifier">directories</span> =<span class="ruby-operator">&gt;</span> [ 
        { <span class="ruby-identifier">path</span>    =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;/path/to/directory&#39;</span>, 
          <span class="ruby-identifier">options</span> =<span class="ruby-operator">&gt;</span> [<span class="ruby-string">&#39;Indexes&#39;</span>,<span class="ruby-string">&#39;FollowSymLinks&#39;</span>,<span class="ruby-string">&#39;MultiViews&#39;</span>], 
        },
      ],
    }
</pre>

<h6 id="label-order"><code>order</code><span><a href="#label-order">&para;</a> <a href="#documentation">&uarr;</a></span></h6>

<p>Sets the order of processing Allow and Deny statements as per <a
href="http://httpd.apache.org/docs/2.2/mod/mod_authz_host.html#order">Apache
core documentation</a>. <strong>Deprecated:</strong> This parameter is
being deprecated due to a change in Apache. It will only work with Apache
2.2 and lower.</p>

<pre class="ruby"><span class="ruby-identifier">apache</span><span class="ruby-operator">::</span><span class="ruby-identifier">vhost</span> { <span class="ruby-string">&#39;sample.example.net&#39;</span><span class="ruby-operator">:</span>
      <span class="ruby-identifier">docroot</span>     =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;/path/to/directory&#39;</span>,
      <span class="ruby-identifier">directories</span> =<span class="ruby-operator">&gt;</span> [ 
        { <span class="ruby-identifier">path</span>  =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;/path/to/directory&#39;</span>, 
          <span class="ruby-identifier">order</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;Allow,Deny&#39;</span>, 
        },
      ],
    }
</pre>

<h6 id="label-sethandler"><code>sethandler</code><span><a href="#label-sethandler">&para;</a> <a href="#documentation">&uarr;</a></span></h6>

<p>Sets a <code>SetHandler</code> directive as per the <a
href="http://httpd.apache.org/docs/2.2/mod/core.html#sethandler">Apache
Core documentation</a>. An example:</p>

<pre class="ruby"><span class="ruby-identifier">apache</span><span class="ruby-operator">::</span><span class="ruby-identifier">vhost</span> { <span class="ruby-string">&#39;sample.example.net&#39;</span><span class="ruby-operator">:</span>
      <span class="ruby-identifier">docroot</span>     =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;/path/to/directory&#39;</span>,
      <span class="ruby-identifier">directories</span> =<span class="ruby-operator">&gt;</span> [ 
        { <span class="ruby-identifier">path</span>       =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;/path/to/directory&#39;</span>, 
          <span class="ruby-identifier">sethandler</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;None&#39;</span>, 
        }
      ],
    }
</pre>

<h6 id="label-passenger_enabled"><code>passenger_enabled</code><span><a href="#label-passenger_enabled">&para;</a> <a href="#documentation">&uarr;</a></span></h6>

<p>Sets the value for the <a
href="http://www.modrails.com/documentation/Users%20guide%20Apache.html#PassengerEnabled">PassengerEnabled</a>
directory to &#39;on&#39; or &#39;off&#39;. Requires
<code>apache::mod::passenger</code> to be included.</p>

<pre class="ruby"><span class="ruby-identifier">apache</span><span class="ruby-operator">::</span><span class="ruby-identifier">vhost</span> { <span class="ruby-string">&#39;sample.example.net&#39;</span><span class="ruby-operator">:</span>
      <span class="ruby-identifier">docroot</span>     =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;/path/to/directory&#39;</span>,
      <span class="ruby-identifier">directories</span> =<span class="ruby-operator">&gt;</span> [ 
        { <span class="ruby-identifier">path</span>              =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;/path/to/directory&#39;</span>, 
          <span class="ruby-identifier">passenger_enabled</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;on&#39;</span>,
        }, 
      ],
    }
</pre>

<p><em>Note:</em> Be aware that there is an <a
href="http://www.conandalton.net/2010/06/passengerenabled-off-not-working.html">issue</a>
using the PassengerEnabled directive with the PassengerHighPerformance
directive.</p>

<h6 id="label-php_admin_value+and+php_admin_flag"><code>php_admin_value</code> and <code>php_admin_flag</code><span><a href="#label-php_admin_value+and+php_admin_flag">&para;</a> <a href="#documentation">&uarr;</a></span></h6>

<p><code>php_admin_value</code> sets the value of the directory, and
<code>php_admin_flag</code> uses a boolean to configure the directory.
Further information can be found <a
href="http://php.net/manual/en/configuration.changes.php">here</a>.</p>

<h6 id="label-ssl_options"><code>ssl_options</code><span><a href="#label-ssl_options">&para;</a> <a href="#documentation">&uarr;</a></span></h6>

<p>String or list of <a
href="https://httpd.apache.org/docs/current/mod/mod_ssl.html#ssloptions">SSLOptions</a>,
which configure SSL engine run-time options. This handler takes precedence
over SSLOptions set in the parent block of the vhost.</p>

<pre class="ruby"><span class="ruby-identifier">apache</span><span class="ruby-operator">::</span><span class="ruby-identifier">vhost</span> { <span class="ruby-string">&#39;secure.example.net&#39;</span><span class="ruby-operator">:</span>
      <span class="ruby-identifier">docroot</span>     =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;/path/to/directory&#39;</span>,
      <span class="ruby-identifier">directories</span> =<span class="ruby-operator">&gt;</span> [
        { <span class="ruby-identifier">path</span>        =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;/path/to/directory&#39;</span>, 
          <span class="ruby-identifier">ssl_options</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;+ExportCertData&#39;</span>, 
        },
        { <span class="ruby-identifier">path</span>        =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;/path/to/different/dir&#39;</span>, 
          <span class="ruby-identifier">ssl_options</span> =<span class="ruby-operator">&gt;</span> [ <span class="ruby-string">&#39;-StdEnvVars&#39;</span>, <span class="ruby-string">&#39;+ExportCertData&#39;</span>],
        },
      ],
    }
</pre>

<h6 id="label-suphp"><code>suphp</code><span><a href="#label-suphp">&para;</a> <a href="#documentation">&uarr;</a></span></h6>

<p>A hash containing the &#39;user&#39; and &#39;group&#39; keys for the <a
href="http://www.suphp.org/DocumentationView.html?file=apache/CONFIG">suPHP_UserGroup</a>
setting. It must be used with <code>suphp_engine =&gt; on</code> in the
vhost declaration, and may only be passed within <code>directories</code>.</p>

<pre class="ruby"><span class="ruby-identifier">apache</span><span class="ruby-operator">::</span><span class="ruby-identifier">vhost</span> { <span class="ruby-string">&#39;secure.example.net&#39;</span><span class="ruby-operator">:</span>
      <span class="ruby-identifier">docroot</span>     =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;/path/to/directory&#39;</span>,
      <span class="ruby-identifier">directories</span> =<span class="ruby-operator">&gt;</span> [
        { <span class="ruby-identifier">path</span>  =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;/path/to/directory&#39;</span>, 
          <span class="ruby-identifier">suphp</span> =<span class="ruby-operator">&gt;</span> 
            { <span class="ruby-identifier">user</span>  =<span class="ruby-operator">&gt;</span>  <span class="ruby-string">&#39;myappuser&#39;</span>, 
              <span class="ruby-identifier">group</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;myappgroup&#39;</span>, 
            },
        },
      ],
    }
</pre>

<h4 id="label-SSL+parameters+for+apache%3A%3Avhost">SSL parameters for <code>apache::vhost</code><span><a href="#label-SSL+parameters+for+apache%3A%3Avhost">&para;</a> <a href="#documentation">&uarr;</a></span></h4>

<p>All of the SSL parameters for <code>::vhost</code> will default to whatever
is set in the base <code>apache</code> class. Use the below parameters to
tweak individual SSL settings for specific vhosts.</p>

<h5 id="label-ssl"><code>ssl</code><span><a href="#label-ssl">&para;</a> <a href="#documentation">&uarr;</a></span></h5>

<p>Enables SSL for the virtual host. SSL vhosts only respond to HTTPS queries.
Valid values are &#39;true&#39; or &#39;false&#39;. Defaults to
&#39;false&#39;.</p>

<h5 id="label-ssl_ca"><code>ssl_ca</code><span><a href="#label-ssl_ca">&para;</a> <a href="#documentation">&uarr;</a></span></h5>

<p>Specifies the SSL certificate authority. Defaults to &#39;undef&#39;.</p>

<h5 id="label-ssl_cert"><code>ssl_cert</code><span><a href="#label-ssl_cert">&para;</a> <a href="#documentation">&uarr;</a></span></h5>

<p>Specifies the SSL certification. Defaults are based on your OS:
&#39;/etc/pki/tls/certs/localhost.crt&#39; for RedHat,
&#39;/etc/ssl/certs/ssl-cert-snakeoil.pem&#39; for Debian, and
&#39;/usr/local/etc/apache22/server.crt&#39; for FreeBSD.</p>

<h5 id="label-ssl_protocol"><code>ssl_protocol</code><span><a href="#label-ssl_protocol">&para;</a> <a href="#documentation">&uarr;</a></span></h5>

<p>Specifies <a
href="http://httpd.apache.org/docs/current/mod/mod_ssl.html#sslprotocol">SSLProtocol</a>.
Defaults to &#39;undef&#39;.</p>

<p>If you do not use this parameter, it will use the HTTPD default from
ssl.conf.erb, &#39;all -SSLv2&#39;.</p>

<h5 id="label-ssl_cipher"><code>ssl_cipher</code><span><a href="#label-ssl_cipher">&para;</a> <a href="#documentation">&uarr;</a></span></h5>

<p>Specifies <a
href="http://httpd.apache.org/docs/current/mod/mod_ssl.html#sslciphersuite">SSLCipherSuite</a>.
Defaults to &#39;undef&#39;.</p>

<p>If you do not use this parameter, it will use the HTTPD default from
ssl.conf.erb, &#39;HIGH:MEDIUM:!aNULL:!MD5&#39;.</p>

<h5 id="label-ssl_honorcipherorder"><code>ssl_honorcipherorder</code><span><a href="#label-ssl_honorcipherorder">&para;</a> <a href="#documentation">&uarr;</a></span></h5>

<p>Sets <a
href="http://httpd.apache.org/docs/current/mod/mod_ssl.html#sslhonorcipherorder">SSLHonorCipherOrder</a>,
which is used to prefer the server&#39;s cipher preference order. Defaults
to &#39;On&#39; in the base <code>apache</code> config.</p>

<h5 id="label-ssl_certs_dir"><code>ssl_certs_dir</code><span><a href="#label-ssl_certs_dir">&para;</a> <a href="#documentation">&uarr;</a></span></h5>

<p>Specifies the location of the SSL certification directory. Defaults to
&#39;/etc/ssl/certs&#39; on Debian, &#39;/etc/pki/tls/certs&#39; on RedHat,
and &#39;/usr/local/etc/apache22&#39; on FreeBSD.</p>

<h5 id="label-ssl_chain"><code>ssl_chain</code><span><a href="#label-ssl_chain">&para;</a> <a href="#documentation">&uarr;</a></span></h5>

<p>Specifies the SSL chain. Defaults to &#39;undef&#39;. (This default will
work out of the box but must be updated in the base <code>apache</code>
class with your specific certificate information before being used in
production.)</p>

<h5 id="label-ssl_crl"><code>ssl_crl</code><span><a href="#label-ssl_crl">&para;</a> <a href="#documentation">&uarr;</a></span></h5>

<p>Specifies the certificate revocation list to use. Defaults to
&#39;undef&#39;. (This default will work out of the box but must be updated
in the base <code>apache</code> class with your specific certificate
information before being used in production.)</p>

<h5 id="label-ssl_crl_path"><code>ssl_crl_path</code><span><a href="#label-ssl_crl_path">&para;</a> <a href="#documentation">&uarr;</a></span></h5>

<p>Specifies the location of the certificate revocation list. Defaults to
&#39;undef&#39;. (This default will work out of the box but must be updated
in the base <code>apache</code> class with your specific certificate
information before being used in production.)</p>

<h5 id="label-ssl_key"><code>ssl_key</code><span><a href="#label-ssl_key">&para;</a> <a href="#documentation">&uarr;</a></span></h5>

<p>Specifies the SSL key. Defaults are based on your operating system:
&#39;/etc/pki/tls/private/localhost.key&#39; for RedHat,
&#39;/etc/ssl/private/ssl-cert-snakeoil.key&#39; for Debian, and
&#39;/usr/local/etc/apache22/server.key&#39; for FreeBSD. (This default
will work out of the box but must be updated in the base
<code>apache</code> class with your specific certificate information before
being used in production.)</p>

<h5 id="label-ssl_verify_client"><code>ssl_verify_client</code><span><a href="#label-ssl_verify_client">&para;</a> <a href="#documentation">&uarr;</a></span></h5>

<p>Sets the <a
href="http://httpd.apache.org/docs/current/mod/mod_ssl.html#sslverifyclient">SSLVerifyClient</a>
directive, which sets the certificate verification level for client
authentication. Valid values are: &#39;none&#39;, &#39;optional&#39;,
&#39;require&#39;, and &#39;optional_no_ca&#39;. Defaults to
&#39;undef&#39;.</p>

<pre class="ruby"><span class="ruby-identifier">apache</span><span class="ruby-operator">::</span><span class="ruby-identifier">vhost</span> { <span class="ruby-string">&#39;sample.example.net&#39;</span><span class="ruby-operator">:</span>
      <span class="ruby-identifier"></span>
      <span class="ruby-identifier">ssl_verify_client</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;optional&#39;</span>,
    }
</pre>

<h5 id="label-ssl_verify_depth"><code>ssl_verify_depth</code><span><a href="#label-ssl_verify_depth">&para;</a> <a href="#documentation">&uarr;</a></span></h5>

<p>Sets the <a
href="http://httpd.apache.org/docs/current/mod/mod_ssl.html#sslverifydepth">SSLVerifyDepth</a>
directive, which specifies the maximum depth of CA certificates in client
certificate verification. Defaults to &#39;undef&#39;.</p>

<pre class="ruby"><span class="ruby-identifier">apache</span><span class="ruby-operator">::</span><span class="ruby-identifier">vhost</span> { <span class="ruby-string">&#39;sample.example.net&#39;</span><span class="ruby-operator">:</span>
      <span class="ruby-identifier"></span>
      <span class="ruby-identifier">ssl_verify_depth</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">1</span>,
    }
</pre>

<h5 id="label-ssl_options"><code>ssl_options</code><span><a href="#label-ssl_options">&para;</a> <a href="#documentation">&uarr;</a></span></h5>

<p>Sets the <a
href="http://httpd.apache.org/docs/current/mod/mod_ssl.html#ssloptions">SSLOptions</a>
directive, which configures various SSL engine run-time options. This is
the global setting for the given vhost and can be a string or an array.
Defaults to &#39;undef&#39;.</p>

<p>A string:</p>

<pre class="ruby"><span class="ruby-identifier">apache</span><span class="ruby-operator">::</span><span class="ruby-identifier">vhost</span> { <span class="ruby-string">&#39;sample.example.net&#39;</span><span class="ruby-operator">:</span>
      <span class="ruby-identifier"></span>
      <span class="ruby-identifier">ssl_options</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;+ExportCertData&#39;</span>,
    }
</pre>

<p>An array:</p>

<pre class="ruby"><span class="ruby-identifier">apache</span><span class="ruby-operator">::</span><span class="ruby-identifier">vhost</span> { <span class="ruby-string">&#39;sample.example.net&#39;</span><span class="ruby-operator">:</span>
      <span class="ruby-identifier"></span>
      <span class="ruby-identifier">ssl_options</span> =<span class="ruby-operator">&gt;</span> [ <span class="ruby-string">&#39;+StrictRequire&#39;</span>, <span class="ruby-string">&#39;+ExportCertData&#39;</span> ],
    }
</pre>

<h5 id="label-ssl_proxyengine"><code>ssl_proxyengine</code><span><a href="#label-ssl_proxyengine">&para;</a> <a href="#documentation">&uarr;</a></span></h5>

<p>Specifies whether or not to use <a
href="http://httpd.apache.org/docs/current/mod/mod_ssl.html#sslproxyengine">SSLProxyEngine</a>.
Valid values are &#39;true&#39; and &#39;false&#39;. Defaults to
&#39;false&#39;.</p>

<h3 id="label-Virtual+Host+Examples">Virtual Host Examples<span><a href="#label-Virtual+Host+Examples">&para;</a> <a href="#documentation">&uarr;</a></span></h3>

<p>The apache module allows you to set up pretty much any configuration of
virtual host you might need. This section will address some common
configurations, but look at the <a
href="https://github.com/puppetlabs/puppetlabs-apache/tree/master/tests">Tests
section</a> for even more examples.</p>

<p>Configure a vhost with a server administrator</p>

<pre class="ruby"><span class="ruby-identifier">apache</span><span class="ruby-operator">::</span><span class="ruby-identifier">vhost</span> { <span class="ruby-string">&#39;third.example.com&#39;</span><span class="ruby-operator">:</span>
      <span class="ruby-identifier">port</span>        =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;80&#39;</span>,
      <span class="ruby-identifier">docroot</span>     =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;/var/www/third&#39;</span>,
      <span class="ruby-identifier">serveradmin</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;admin@example.com&#39;</span>,
    }
</pre>
<hr style="height: 1px">

<p>Set up a vhost with aliased servers</p>

<pre class="ruby"><span class="ruby-identifier">apache</span><span class="ruby-operator">::</span><span class="ruby-identifier">vhost</span> { <span class="ruby-string">&#39;sixth.example.com&#39;</span><span class="ruby-operator">:</span>
      <span class="ruby-identifier">serveraliases</span> =<span class="ruby-operator">&gt;</span> [
        <span class="ruby-string">&#39;sixth.example.org&#39;</span>,
        <span class="ruby-string">&#39;sixth.example.net&#39;</span>,
      ],
      <span class="ruby-identifier">port</span>          =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;80&#39;</span>,
      <span class="ruby-identifier">docroot</span>       =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;/var/www/fifth&#39;</span>,
    }
</pre>
<hr style="height: 1px">

<p>Configure a vhost with a cgi-bin</p>

<pre class="ruby"><span class="ruby-identifier">apache</span><span class="ruby-operator">::</span><span class="ruby-identifier">vhost</span> { <span class="ruby-string">&#39;eleventh.example.com&#39;</span><span class="ruby-operator">:</span>
      <span class="ruby-identifier">port</span>        =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;80&#39;</span>,
      <span class="ruby-identifier">docroot</span>     =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;/var/www/eleventh&#39;</span>,
      <span class="ruby-identifier">scriptalias</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;/usr/lib/cgi-bin&#39;</span>,
    }
</pre>
<hr style="height: 1px">

<p>Set up a vhost with a rack configuration</p>

<pre class="ruby"><span class="ruby-identifier">apache</span><span class="ruby-operator">::</span><span class="ruby-identifier">vhost</span> { <span class="ruby-string">&#39;fifteenth.example.com&#39;</span><span class="ruby-operator">:</span>
      <span class="ruby-identifier">port</span>           =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;80&#39;</span>,
      <span class="ruby-identifier">docroot</span>        =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;/var/www/fifteenth&#39;</span>,
      <span class="ruby-identifier">rack_base_uris</span> =<span class="ruby-operator">&gt;</span> [<span class="ruby-string">&#39;/rackapp1&#39;</span>, <span class="ruby-string">&#39;/rackapp2&#39;</span>],
    }
</pre>
<hr style="height: 1px">

<p>Set up a mix of SSL and non-SSL vhosts at the same domain</p>

<pre class="ruby"><span class="ruby-comment">#The non-ssl vhost</span>
    <span class="ruby-identifier">apache</span><span class="ruby-operator">::</span><span class="ruby-identifier">vhost</span> { <span class="ruby-string">&#39;first.example.com non-ssl&#39;</span><span class="ruby-operator">:</span>
      <span class="ruby-identifier">servername</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;first.example.com&#39;</span>,
      <span class="ruby-identifier">port</span>       =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;80&#39;</span>,
      <span class="ruby-identifier">docroot</span>    =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;/var/www/first&#39;</span>,
    }

    <span class="ruby-comment">#The SSL vhost at the same domain</span>
    <span class="ruby-identifier">apache</span><span class="ruby-operator">::</span><span class="ruby-identifier">vhost</span> { <span class="ruby-string">&#39;first.example.com ssl&#39;</span><span class="ruby-operator">:</span>
      <span class="ruby-identifier">servername</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;first.example.com&#39;</span>,
      <span class="ruby-identifier">port</span>       =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;443&#39;</span>,
      <span class="ruby-identifier">docroot</span>    =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;/var/www/first&#39;</span>,
      <span class="ruby-identifier">ssl</span>        =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword">true</span>,
    }
</pre>
<hr style="height: 1px">

<p>Configure a vhost to redirect non-SSL connections to SSL</p>

<pre class="ruby"><span class="ruby-identifier">apache</span><span class="ruby-operator">::</span><span class="ruby-identifier">vhost</span> { <span class="ruby-string">&#39;sixteenth.example.com non-ssl&#39;</span><span class="ruby-operator">:</span>
      <span class="ruby-identifier">servername</span>      =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;sixteenth.example.com&#39;</span>,
      <span class="ruby-identifier">port</span>            =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;80&#39;</span>,
      <span class="ruby-identifier">docroot</span>         =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;/var/www/sixteenth&#39;</span>,
      <span class="ruby-identifier">redirect_status</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;permanent&#39;</span>,
      <span class="ruby-identifier">redirect_dest</span>   =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;https://sixteenth.example.com/&#39;</span>
    }
    <span class="ruby-identifier">apache</span><span class="ruby-operator">::</span><span class="ruby-identifier">vhost</span> { <span class="ruby-string">&#39;sixteenth.example.com ssl&#39;</span><span class="ruby-operator">:</span>
      <span class="ruby-identifier">servername</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;sixteenth.example.com&#39;</span>,
      <span class="ruby-identifier">port</span>       =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;443&#39;</span>,
      <span class="ruby-identifier">docroot</span>    =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;/var/www/sixteenth&#39;</span>,
      <span class="ruby-identifier">ssl</span>        =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword">true</span>,
    }
</pre>
<hr style="height: 1px">

<p>Set up IP-based vhosts on any listen port and have them respond to requests
on specific IP addresses. In this example, we will set listening on ports
80 and 81. This is required because the example vhosts are not declared
with a port parameter.</p>

<pre>apache::listen { &#39;80&#39;: }
    apache::listen { &#39;81&#39;: }</pre>

<p>Then we will set up the IP-based vhosts</p>

<pre class="ruby"><span class="ruby-identifier">apache</span><span class="ruby-operator">::</span><span class="ruby-identifier">vhost</span> { <span class="ruby-string">&#39;first.example.com&#39;</span><span class="ruby-operator">:</span>
      <span class="ruby-identifier">ip</span>       =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;10.0.0.10&#39;</span>,
      <span class="ruby-identifier">docroot</span>  =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;/var/www/first&#39;</span>,
      <span class="ruby-identifier">ip_based</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword">true</span>,
    }
    <span class="ruby-identifier">apache</span><span class="ruby-operator">::</span><span class="ruby-identifier">vhost</span> { <span class="ruby-string">&#39;second.example.com&#39;</span><span class="ruby-operator">:</span>
      <span class="ruby-identifier">ip</span>       =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;10.0.0.11&#39;</span>,
      <span class="ruby-identifier">docroot</span>  =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;/var/www/second&#39;</span>,
      <span class="ruby-identifier">ip_based</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword">true</span>,
    }
</pre>
<hr style="height: 1px">

<p>Configure a mix of name-based and IP-based vhosts. First, we will add two
IP-based vhosts on 10.0.0.10, one SSL and one non-SSL</p>

<pre class="ruby"><span class="ruby-identifier">apache</span><span class="ruby-operator">::</span><span class="ruby-identifier">vhost</span> { <span class="ruby-string">&#39;The first IP-based vhost, non-ssl&#39;</span><span class="ruby-operator">:</span>
      <span class="ruby-identifier">servername</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;first.example.com&#39;</span>,
      <span class="ruby-identifier">ip</span>         =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;10.0.0.10&#39;</span>,
      <span class="ruby-identifier">port</span>       =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;80&#39;</span>,
      <span class="ruby-identifier">ip_based</span>   =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword">true</span>,
      <span class="ruby-identifier">docroot</span>    =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;/var/www/first&#39;</span>,
    }
    <span class="ruby-identifier">apache</span><span class="ruby-operator">::</span><span class="ruby-identifier">vhost</span> { <span class="ruby-string">&#39;The first IP-based vhost, ssl&#39;</span><span class="ruby-operator">:</span>
      <span class="ruby-identifier">servername</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;first.example.com&#39;</span>,
      <span class="ruby-identifier">ip</span>         =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;10.0.0.10&#39;</span>,
      <span class="ruby-identifier">port</span>       =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;443&#39;</span>,
      <span class="ruby-identifier">ip_based</span>   =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword">true</span>,
      <span class="ruby-identifier">docroot</span>    =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;/var/www/first-ssl&#39;</span>,
      <span class="ruby-identifier">ssl</span>        =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword">true</span>,
    }
</pre>

<p>Then, we will add two name-based vhosts listening on 10.0.0.20</p>

<pre class="ruby"><span class="ruby-identifier">apache</span><span class="ruby-operator">::</span><span class="ruby-identifier">vhost</span> { <span class="ruby-string">&#39;second.example.com&#39;</span><span class="ruby-operator">:</span>
      <span class="ruby-identifier">ip</span>      =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;10.0.0.20&#39;</span>,
      <span class="ruby-identifier">port</span>    =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;80&#39;</span>,
      <span class="ruby-identifier">docroot</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;/var/www/second&#39;</span>,
    }
    <span class="ruby-identifier">apache</span><span class="ruby-operator">::</span><span class="ruby-identifier">vhost</span> { <span class="ruby-string">&#39;third.example.com&#39;</span><span class="ruby-operator">:</span>
      <span class="ruby-identifier">ip</span>      =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;10.0.0.20&#39;</span>,
      <span class="ruby-identifier">port</span>    =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;80&#39;</span>,
      <span class="ruby-identifier">docroot</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;/var/www/third&#39;</span>,
    }
</pre>

<p>If you want to add two name-based vhosts so that they will answer on either
10.0.0.10 or 10.0.0.20, you <strong>MUST</strong> declare <code>add_listen
=&gt; &#39;false&#39;</code> to disable the otherwise automatic &#39;Listen
80&#39;, as it will conflict with the preceding IP-based vhosts.</p>

<pre class="ruby"><span class="ruby-identifier">apache</span><span class="ruby-operator">::</span><span class="ruby-identifier">vhost</span> { <span class="ruby-string">&#39;fourth.example.com&#39;</span><span class="ruby-operator">:</span>
      <span class="ruby-identifier">port</span>       =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;80&#39;</span>,
      <span class="ruby-identifier">docroot</span>    =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;/var/www/fourth&#39;</span>,
      <span class="ruby-identifier">add_listen</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword">false</span>,
    }
    <span class="ruby-identifier">apache</span><span class="ruby-operator">::</span><span class="ruby-identifier">vhost</span> { <span class="ruby-string">&#39;fifth.example.com&#39;</span><span class="ruby-operator">:</span>
      <span class="ruby-identifier">port</span>       =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;80&#39;</span>,
      <span class="ruby-identifier">docroot</span>    =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;/var/www/fifth&#39;</span>,
      <span class="ruby-identifier">add_listen</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword">false</span>,
    }
</pre>

<h3 id="label-Load+Balancing">Load Balancing<span><a href="#label-Load+Balancing">&para;</a> <a href="#documentation">&uarr;</a></span></h3>

<h4 id="label-Defined+Type%3A+apache%3A%3Abalancer">Defined Type: <code>apache::balancer</code><span><a href="#label-Defined+Type%3A+apache%3A%3Abalancer">&para;</a> <a href="#documentation">&uarr;</a></span></h4>

<p><code>apache::balancer</code> creates an Apache balancer cluster. Each
balancer cluster needs one or more balancer members, which are declared
with <a
href="#defined-type-apachebalancermember">apache::balancermember</a>.</p>

<p>One <code>apache::balancer</code> defined resource should be defined for
each Apache load balanced set of servers. The
<code>apache::balancermember</code> resources for all balancer members can
be exported and collected on a single Apache load balancer server using
exported resources.</p>

<p><strong>Parameters within <code>apache::balancer</code>:</strong></p>

<h5 id="label-name"><code>name</code><span><a href="#label-name">&para;</a> <a href="#documentation">&uarr;</a></span></h5>

<p>Sets the balancer cluster&#39;s title. This parameter will also set the
title of the conf.d file.</p>

<h5 id="label-proxy_set"><code>proxy_set</code><span><a href="#label-proxy_set">&para;</a> <a href="#documentation">&uarr;</a></span></h5>

<p>Configures key-value pairs as <a
href="http://httpd.apache.org/docs/current/mod/mod_proxy.html#proxyset">ProxySet</a>
lines. Accepts a hash, and defaults to &#39;{}&#39;.</p>

<h5 id="label-collect_exported"><code>collect_exported</code><span><a href="#label-collect_exported">&para;</a> <a href="#documentation">&uarr;</a></span></h5>

<p>Determines whether or not to use exported resources. Valid values
&#39;true&#39; and &#39;false&#39;, defaults to &#39;true&#39;.</p>

<p>If you statically declare all of your backend servers, you should set this
to &#39;false&#39; to rely on existing declared balancer member resources.
Also make sure to use <code>apache::balancermember</code> with array
arguments.</p>

<p>If you wish to dynamically declare your backend servers via <a
href="http://docs.puppetlabs.com/guides/exported_resources.html">exported
resources</a> collected on a central node, you must set this parameter to
&#39;true&#39; in order to collect the exported balancer member resources
that were exported by the balancer member nodes.</p>

<p>If you choose not to use exported resources, all balancer members will be
configured in a single puppet run. If you are using exported resources,
Puppet has to run on the balanced nodes, then run on the balancer.</p>

<h4 id="label-Defined+Type%3A+apache%3A%3Abalancermember">Defined Type: <code>apache::balancermember</code><span><a href="#label-Defined+Type%3A+apache%3A%3Abalancermember">&para;</a> <a href="#documentation">&uarr;</a></span></h4>

<p>Defines members of <a
href="http://httpd.apache.org/docs/current/mod/mod_proxy_balancer.html">mod_proxy_balancer</a>,
which will set up a balancer member inside a listening service
configuration block in etc/apache/apache.cfg on the load balancer.</p>

<p><strong>Parameters within <code>apache::balancermember</code>:</strong></p>

<h5 id="label-name"><code>name</code><span><a href="#label-name">&para;</a> <a href="#documentation">&uarr;</a></span></h5>

<p>Sets the title of the resource. This name will also set the name of the
concat fragment.</p>

<h5 id="label-balancer_cluster"><code>balancer_cluster</code><span><a href="#label-balancer_cluster">&para;</a> <a href="#documentation">&uarr;</a></span></h5>

<p>Sets the Apache service&#39;s instance name. This must match the name of a
declared <code>apache::balancer</code> resource. Required.</p>

<h5 id="label-url"><code>url</code><span><a href="#label-url">&para;</a> <a href="#documentation">&uarr;</a></span></h5>

<p>Specifies the URL used to contact the balancer member server. Defaults to
&#39;<a href="http://${::fqdn">${::fqdn</a>}/&#39;.</p>

<h5 id="label-options"><code>options</code><span><a href="#label-options">&para;</a> <a href="#documentation">&uarr;</a></span></h5>

<p>An array of <a
href="http://httpd.apache.org/docs/2.2/mod/mod_proxy.html#balancermember">options</a>
to be specified after the URL. Accepts any key-value pairs available to <a
href="http://httpd.apache.org/docs/2.2/mod/mod_proxy.html#proxypass">ProxyPass</a>.</p>

<h4 id="label-Examples">Examples<span><a href="#label-Examples">&para;</a> <a href="#documentation">&uarr;</a></span></h4>

<p>To load balance with exported resources, export the
<code>balancermember</code> from the balancer member</p>

<pre class="ruby"><span class="ruby-identifier">@@apache</span><span class="ruby-operator">::</span><span class="ruby-identifier">balancermember</span> { <span class="ruby-string">&quot;${::fqdn}-puppet00&quot;</span><span class="ruby-operator">:</span>
        <span class="ruby-identifier">balancer_cluster</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;puppet00&#39;</span>,
        <span class="ruby-identifier">url</span>              =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&quot;ajp://${::fqdn}:8009&quot;</span>
        <span class="ruby-identifier">options</span>          =<span class="ruby-operator">&gt;</span> [<span class="ruby-string">&#39;ping=5&#39;</span>, <span class="ruby-string">&#39;disablereuse=on&#39;</span>, <span class="ruby-string">&#39;retry=5&#39;</span>, <span class="ruby-string">&#39;ttl=120&#39;</span>],
      }
</pre>

<p>Then, on the proxy server, create the balancer cluster</p>

<pre>apache::balancer { &#39;puppet00&#39;: }</pre>

<p>To load balance without exported resources, declare the following on the
proxy</p>

<pre class="ruby"><span class="ruby-identifier">apache</span><span class="ruby-operator">::</span><span class="ruby-identifier">balancer</span> { <span class="ruby-string">&#39;puppet00&#39;</span><span class="ruby-operator">:</span> }
    <span class="ruby-identifier">apache</span><span class="ruby-operator">::</span><span class="ruby-identifier">balancermember</span> { <span class="ruby-string">&quot;${::fqdn}-puppet00&quot;</span><span class="ruby-operator">:</span>
        <span class="ruby-identifier">balancer_cluster</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;puppet00&#39;</span>,
        <span class="ruby-identifier">url</span>              =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&quot;ajp://${::fqdn}:8009&quot;</span>
        <span class="ruby-identifier">options</span>          =<span class="ruby-operator">&gt;</span> [<span class="ruby-string">&#39;ping=5&#39;</span>, <span class="ruby-string">&#39;disablereuse=on&#39;</span>, <span class="ruby-string">&#39;retry=5&#39;</span>, <span class="ruby-string">&#39;ttl=120&#39;</span>],
      }
</pre>

<p>Then declare <code>apache::balancer</code> and
<code>apache::balancermember</code> on the proxy server.</p>

<p>If you need to use ProxySet in the balancer config</p>

<pre class="ruby"><span class="ruby-identifier">apache</span><span class="ruby-operator">::</span><span class="ruby-identifier">balancer</span> { <span class="ruby-string">&#39;puppet01&#39;</span><span class="ruby-operator">:</span>
        <span class="ruby-identifier">proxy_set</span> =<span class="ruby-operator">&gt;</span> {<span class="ruby-string">&#39;stickysession&#39;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;JSESSIONID&#39;</span>},
      }
</pre>

<h2 id="label-Reference">Reference<span><a href="#label-Reference">&para;</a> <a href="#documentation">&uarr;</a></span></h2>

<h3 id="label-Classes">Classes<span><a href="#label-Classes">&para;</a> <a href="#documentation">&uarr;</a></span></h3>

<h4 id="label-Public+Classes">Public Classes<span><a href="#label-Public+Classes">&para;</a> <a href="#documentation">&uarr;</a></span></h4>
<ul><li>
<p><a href="#class-apache">apache</a>: Guides the basic setup of Apache.</p>
</li><li>
<p><code>apache::dev</code>: Installs Apache development libraries.
(<em>Note:</em> On FreeBSD, you must declare <code>apache::package</code>
or <code>apache</code> before <code>apache::dev</code>.)</p>
</li><li>
<p><a href="#classes-apachemodname">apache::mod::[name]</a>: Enables specific
Apache HTTPD modules.</p>
</li></ul>

<h4 id="label-Private+Classes">Private Classes<span><a href="#label-Private+Classes">&para;</a> <a href="#documentation">&uarr;</a></span></h4>
<ul><li>
<p><code>apache::confd::no_accf</code>: Creates the no-accf.conf configuration
file in conf.d, required by FreeBSD&#39;s Apache 2.4.</p>
</li><li>
<p><code>apache::default_confd_files</code>: Includes conf.d files for
FreeBSD.</p>
</li><li>
<p><code>apache::default_mods</code>: Installs the Apache modules required to
run the default configuration.</p>
</li><li>
<p><code>apache::package</code>: Installs and configures basic Apache
packages.</p>
</li><li>
<p><code>apache::params</code>: Manages Apache parameters.</p>
</li><li>
<p><code>apache::service</code>: Manages the Apache daemon.</p>
</li></ul>

<h3 id="label-Defined+Types">Defined Types<span><a href="#label-Defined+Types">&para;</a> <a href="#documentation">&uarr;</a></span></h3>

<h4 id="label-Public+Defined+Types">Public Defined Types<span><a href="#label-Public+Defined+Types">&para;</a> <a href="#documentation">&uarr;</a></span></h4>
<ul><li>
<p><code>apache::balancer</code>: Creates an Apache balancer cluster.</p>
</li><li>
<p><code>apache::balancermember</code>: Defines members of <a
href="http://httpd.apache.org/docs/current/mod/mod_proxy_balancer.html">mod_proxy_balancer</a>.</p>
</li><li>
<p><code>apache::listen</code>: Based on the title, controls which ports
Apache binds to for listening. Adds <a
href="http://httpd.apache.org/docs/current/bind.html">Listen</a> directives
to ports.conf in the Apache HTTPD configuration directory. Titles take the
form &#39;&lt;port&gt;&#39;, &#39;&lt;ipv4&gt;:&lt;port&gt;&#39;, or
&#39;&lt;ipv6&gt;:&lt;port&gt;&#39;.</p>
</li><li>
<p><code>apache::mod</code>: Used to enable arbitrary Apache HTTPD modules for
which there is no specific <code>apache::mod::[name]</code> class.</p>
</li><li>
<p><code>apache::namevirtualhost</code>: Enables name-based hosting of a
virtual host. Adds all <a
href="http://httpd.apache.org/docs/current/vhosts/name-based.html">NameVirtualHost</a>
directives to the <code>ports.conf</code> file in the Apache HTTPD
configuration directory. Titles take the form &#39;*&#39;,
&#39;*:&lt;port&gt;&#39;, &#39;<em>default</em>:&lt;port&gt;,
&#39;&lt;ip&gt;&#39;, or &#39;&lt;ip&gt;:&lt;port&gt;&#39;.</p>
</li><li>
<p><code>apache::vhost</code>: Allows specialized configurations for virtual
hosts that have requirements outside the defaults.</p>
</li></ul>

<h4 id="label-Private+Defined+Types">Private Defined Types<span><a href="#label-Private+Defined+Types">&para;</a> <a href="#documentation">&uarr;</a></span></h4>
<ul><li>
<p><code>apache::peruser::multiplexer</code>: Enables the <a
href="http://www.freebsd.org/cgi/url.cgi?ports/www/apache22-peruser-mpm/pkg-descr">Peruser</a>
module for FreeBSD only.</p>
</li><li>
<p><code>apache::peruser::processor</code>: Enables the <a
href="http://www.freebsd.org/cgi/url.cgi?ports/www/apache22-peruser-mpm/pkg-descr">Peruser</a>
module for FreeBSD only.</p>
</li></ul>

<h3 id="label-Templates">Templates<span><a href="#label-Templates">&para;</a> <a href="#documentation">&uarr;</a></span></h3>

<p>The Apache module relies heavily on templates to enable the
<code>vhost</code> and <code>apache::mod</code> defined types. These
templates are built based on Facter facts around your operating system.
Unless explicitly called out, most templates are not meant for
configuration.</p>

<h2 id="label-Limitations">Limitations<span><a href="#label-Limitations">&para;</a> <a href="#documentation">&uarr;</a></span></h2>

<h3 id="label-Ubuntu+10.04">Ubuntu 10.04<span><a href="#label-Ubuntu+10.04">&para;</a> <a href="#documentation">&uarr;</a></span></h3>

<p>The <code>apache::vhost::WSGIImportScript</code> parameter creates a
statement inside the VirtualHost which is unsupported on older versions of
Apache, causing this to fail. This will be remedied in a future
refactoring.</p>

<h3 id="label-RHEL%2FCentOS+5">RHEL/CentOS 5<span><a href="#label-RHEL%2FCentOS+5">&para;</a> <a href="#documentation">&uarr;</a></span></h3>

<p>The <code>apache::mod::passenger</code> and
<code>apache::mod::proxy_html</code> classes are untested since
repositories are missing compatible packages.</p>

<h3 id="label-RHEL%2FCentOS+7">RHEL/CentOS 7<span><a href="#label-RHEL%2FCentOS+7">&para;</a> <a href="#documentation">&uarr;</a></span></h3>

<p>The <code>apache::mod::passenger</code> class is untested as the repository
does not have packages for EL7 yet. The fact that passenger packages
aren&#39;t available also makes us unable to test the
<code>rack_base_uri</code> parameter in <code>apache::vhost</code>.</p>

<h3 id="label-General">General<span><a href="#label-General">&para;</a> <a href="#documentation">&uarr;</a></span></h3>

<p>This module is CI tested on Centos 5 &amp; 6, Ubuntu 12.04 &amp; 14.04,
Debian 7, and RHEL 5, 6 &amp; 7 platforms against both the OSS and
Enterprise version of Puppet.</p>

<p>The module contains support for other distributions and operating systems,
such as FreeBSD and Amazon Linux, but is not formally tested on those and
regressions may occur.</p>

<h3 id="label-SELinux+and+Custom+Paths">SELinux and Custom Paths<span><a href="#label-SELinux+and+Custom+Paths">&para;</a> <a href="#documentation">&uarr;</a></span></h3>

<p>If you are running with SELinux in enforcing mode and want to use custom
paths for your <code>logroot</code>, <code>mod_dir</code>,
<code>vhost_dir</code>, and <code>docroot</code>, you will need to manage
the context for the files yourself.</p>

<p>Something along the lines of:</p>

<pre class="ruby"><span class="ruby-identifier">exec</span> { <span class="ruby-string">&#39;set_apache_defaults&#39;</span><span class="ruby-operator">:</span>
          <span class="ruby-identifier">command</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;semanage fcontext -a -t httpd_sys_content_t &quot;/custom/path(/.*)?&quot;&#39;</span>,
          <span class="ruby-identifier">path</span>    =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;/bin:/usr/bin/:/sbin:/usr/sbin&#39;</span>,
          <span class="ruby-identifier">require</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-constant">Package</span>[<span class="ruby-string">&#39;policycoreutils-python&#39;</span>],
        }
        <span class="ruby-identifier">package</span> { <span class="ruby-string">&#39;policycoreutils-python&#39;</span><span class="ruby-operator">:</span> <span class="ruby-keyword">ensure</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">installed</span> }
        <span class="ruby-identifier">exec</span> { <span class="ruby-string">&#39;restorecon_apache&#39;</span><span class="ruby-operator">:</span>
          <span class="ruby-identifier">command</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;restorecon -Rv /apache_spec&#39;</span>,
          <span class="ruby-identifier">path</span>    =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;/bin:/usr/bin/:/sbin:/usr/sbin&#39;</span>,
          <span class="ruby-identifier">before</span>  =<span class="ruby-operator">&gt;</span> <span class="ruby-constant">Service</span>[<span class="ruby-string">&#39;httpd&#39;</span>],
          <span class="ruby-identifier">require</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-constant">Class</span>[<span class="ruby-string">&#39;apache&#39;</span>],
        }
        <span class="ruby-identifier">class</span> { <span class="ruby-string">&#39;apache&#39;</span><span class="ruby-operator">:</span> }
        <span class="ruby-identifier">host</span> { <span class="ruby-string">&#39;test.server&#39;</span><span class="ruby-operator">:</span> <span class="ruby-identifier">ip</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;127.0.0.1&#39;</span> }
        <span class="ruby-identifier">file</span> { <span class="ruby-string">&#39;/custom/path&#39;</span><span class="ruby-operator">:</span> <span class="ruby-keyword">ensure</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">directory</span>, }
        <span class="ruby-identifier">file</span> { <span class="ruby-string">&#39;/custom/path/include&#39;</span><span class="ruby-operator">:</span> <span class="ruby-keyword">ensure</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">present</span>, <span class="ruby-identifier">content</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;#additional_includes&#39;</span> }
        <span class="ruby-identifier">apache</span><span class="ruby-operator">::</span><span class="ruby-identifier">vhost</span> { <span class="ruby-string">&#39;test.server&#39;</span><span class="ruby-operator">:</span>
          <span class="ruby-identifier">docroot</span>             =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;/custom/path&#39;</span>,
          <span class="ruby-identifier">additional_includes</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;/custom/path/include&#39;</span>,
        }
</pre>

<p>You need to set the contexts using <code>semanage fcontext</code> not
<code>chcon</code> because <code>file {...}</code> resources will reset the
context to the values in the database if the resource isn&#39;t specifying
the context.</p>

<h2 id="label-Development">Development<span><a href="#label-Development">&para;</a> <a href="#documentation">&uarr;</a></span></h2>

<h3 id="label-Contributing">Contributing<span><a href="#label-Contributing">&para;</a> <a href="#documentation">&uarr;</a></span></h3>

<p>Puppet Labs modules on the Puppet Forge are open projects, and community
contributions are essential for keeping them great. We cant access the
huge number of platforms and myriad of hardware, software, and deployment
configurations that Puppet is intended to serve.</p>

<p>We want to keep it as easy as possible to contribute changes so that our
modules work in your environment. There are a few guidelines that we need
contributors to follow so that we can have a chance of keeping on top of
things.</p>

<p>You can read the complete module contribution guide <a
href="http://projects.puppetlabs.com/projects/module-site/wiki/Module_contributing">on
the Puppet Labs wiki.</a></p>

<h3 id="label-Running+tests">Running tests<span><a href="#label-Running+tests">&para;</a> <a href="#documentation">&uarr;</a></span></h3>

<p>This project contains tests for both <a
href="http://rspec-puppet.com/">rspec-puppet</a> and <a
href="https://github.com/puppetlabs/beaker-rspec">beaker-rspec</a> to
verify functionality. For in-depth information please see their respective
documentation.</p>

<p>Quickstart:</p>

<pre>gem install bundler
bundle install
bundle exec rake spec
bundle exec rspec spec/acceptance
RS_DEBUG=yes bundle exec rspec spec/acceptance</pre>

</div>



<footer id="validator-badges">
  <p><a href="http://validator.w3.org/check/referer">[Validate]</a>
  <p>Generated by <a href="https://github.com/rdoc/rdoc">RDoc</a> 4.0.1.
  <p>Generated with the <a href="http://deveiate.org/projects/Darkfish-Rdoc/">Darkfish Rdoc Generator</a> 3.
</footer>

